{"ast":null,"code":"import _objectSpread from\"C:/Users/Tulani.Mtshwelo/Promo/AutoPromote/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Admin Login Fix\n// This script fixes the admin login issues by providing a direct login option \n// and ensuring proper admin routing and authentication.\nimport React,{useState,useEffect}from'react';import{auth}from'./firebaseClient';import{signInWithEmailAndPassword}from'firebase/auth';import{getFirebaseErrorMessage,logFirebaseError}from'./firebaseErrorHandler';import{API_ENDPOINTS}from'./config';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function AdminLoginFix(){const[credentials,setCredentials]=useState({email:'admin123@gmail.com',password:'AutoAdmin123'});const[status,setStatus]=useState('');const[error,setError]=useState('');const[adminData,setAdminData]=useState(null);const[isLoading,setIsLoading]=useState(false);const handleChange=e=>{const{name,value}=e.target;setCredentials(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleLogin=async()=>{setStatus('Logging in...');setError('');setIsLoading(true);try{// Step 1: Firebase Authentication\nsetStatus('Authenticating with Firebase...');const userCredential=await signInWithEmailAndPassword(auth,credentials.email,credentials.password);// Step 2: Get the ID token\nsetStatus('Getting Firebase ID token...');const idToken=await userCredential.user.getIdToken(true);// Step 3: Verify with backend server\nsetStatus('Verifying with backend server...');// First try the deployed backend\ntry{const response=await fetch(API_ENDPOINTS.LOGIN,{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify({idToken})});if(response.ok){const data=await response.json();setAdminData(data.user);// Step 4: Store in localStorage\nlocalStorage.setItem('user',JSON.stringify(_objectSpread(_objectSpread({},data.user),{},{token:idToken,isAdmin:true,role:'admin'})));setStatus('Admin login successful! Redirecting to dashboard...');// Step 5: Redirect to reload the page with the authenticated user\nsetTimeout(()=>{window.location.reload();},2000);return;}else{// Log the failed response for debugging\nconsole.warn('Backend server responded with error:',response.status);const errorText=await response.text();console.warn('Error details:',errorText);}}catch(backendError){console.log('Backend verification failed, trying alternative method',backendError);}// If backend verification fails, we'll create a basic admin user object\nconst user=userCredential.user;const basicAdminUser={uid:user.uid,email:user.email,name:user.displayName||'Admin User',isAdmin:true,role:'admin',token:idToken,lastLogin:new Date().toISOString()};// Store in localStorage\nlocalStorage.setItem('user',JSON.stringify(basicAdminUser));setAdminData(basicAdminUser);setStatus('Admin login successful! Redirecting to dashboard...');// Redirect to reload the page with the authenticated user\nsetTimeout(()=>{window.location.reload();},2000);}catch(error){logFirebaseError(error,'Admin Login');setError(\"Admin login failed: \".concat(getFirebaseErrorMessage(error)));setStatus('');}finally{setIsLoading(false);}};// Function to check token validity\nconst checkTokenValidity=async token=>{try{// Try to verify the token with your backend\nconst response=await fetch(API_ENDPOINTS.VERIFY_TOKEN||'/api/verify-token',{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}});return response.ok;}catch(error){console.warn('Token verification failed:',error);return false;}};useEffect(()=>{// Check if already logged in\nconst storedUser=localStorage.getItem('user');if(storedUser){try{const userData=JSON.parse(storedUser);if(userData.isAdmin||userData.role==='admin'){// Check if we have a token and it's not expired\nif(userData.token){// Set the admin data from localStorage\nsetAdminData(userData);setStatus('Already logged in as admin');// Optionally verify the token in the background\ncheckTokenValidity(userData.token).then(isValid=>{if(!isValid){console.log('Admin token is no longer valid, but proceeding with cached data');}});}}}catch(e){console.error('Error parsing stored user data:',e);localStorage.removeItem('user');// Clear invalid data\n}}},[]);// Styles\nconst styles={container:{maxWidth:'500px',margin:'20px auto',padding:'20px',borderRadius:'8px',boxShadow:'0 2px 10px rgba(0,0,0,0.1)',backgroundColor:'#fff'},title:{color:'#d32f2f',marginBottom:'20px'},formGroup:{marginBottom:'15px'},label:{display:'block',marginBottom:'5px',fontWeight:'bold'},input:{width:'100%',padding:'10px',borderRadius:'4px',border:'1px solid #ddd',fontSize:'16px'},button:{backgroundColor:'#d32f2f',color:'white',border:'none',padding:'12px 20px',borderRadius:'4px',fontSize:'16px',cursor:'pointer',width:'100%',marginTop:'10px',opacity:isLoading?0.7:1,pointerEvents:isLoading?'none':'auto'},status:{marginTop:'15px',padding:'10px',borderRadius:'4px',backgroundColor:'#e8f5e9',color:'#2e7d32'},error:{marginTop:'15px',padding:'10px',borderRadius:'4px',backgroundColor:'#ffebee',color:'#c62828'}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.title,children:\"Direct Admin Login\"}),adminData?/*#__PURE__*/_jsxs(\"div\",{style:styles.status,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Logged in as admin:\"}),\" \",adminData.email,/*#__PURE__*/_jsx(\"p\",{children:\"If you're not seeing the admin dashboard, please refresh the page.\"}),/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.button),{},{backgroundColor:'#1976d2',marginTop:'15px'}),onClick:()=>window.location.reload(),children:\"Refresh Page\"}),/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.button),{},{backgroundColor:'#ff9800',marginTop:'10px'}),onClick:()=>{localStorage.removeItem('user');setAdminData(null);setStatus('');window.location.reload();},children:\"Sign Out\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Admin Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:credentials.email,onChange:handleChange,style:styles.input,placeholder:\"Enter admin email\",disabled:isLoading})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Admin Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:credentials.password,onChange:handleChange,style:styles.input,placeholder:\"Enter admin password\",disabled:isLoading})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,style:styles.button,disabled:isLoading,children:isLoading?'Signing In...':'Sign In as Admin'}),status&&/*#__PURE__*/_jsx(\"div\",{style:styles.status,children:status}),error&&/*#__PURE__*/_jsx(\"div\",{style:styles.error,children:error})]})]});}export default AdminLoginFix;","map":{"version":3,"names":["React","useState","useEffect","auth","signInWithEmailAndPassword","getFirebaseErrorMessage","logFirebaseError","API_ENDPOINTS","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminLoginFix","credentials","setCredentials","email","password","status","setStatus","error","setError","adminData","setAdminData","isLoading","setIsLoading","handleChange","e","name","value","target","prev","_objectSpread","handleLogin","userCredential","idToken","user","getIdToken","response","fetch","LOGIN","method","headers","body","JSON","stringify","ok","data","json","localStorage","setItem","token","isAdmin","role","setTimeout","window","location","reload","console","warn","errorText","text","backendError","log","basicAdminUser","uid","displayName","lastLogin","Date","toISOString","concat","checkTokenValidity","VERIFY_TOKEN","storedUser","getItem","userData","parse","then","isValid","removeItem","styles","container","maxWidth","margin","padding","borderRadius","boxShadow","backgroundColor","title","color","marginBottom","formGroup","label","display","fontWeight","input","width","border","fontSize","button","cursor","marginTop","opacity","pointerEvents","style","children","onClick","type","onChange","placeholder","disabled"],"sources":["C:/Users/Tulani.Mtshwelo/Promo/AutoPromote/frontend/src/AdminLoginFix.js"],"sourcesContent":["// Admin Login Fix\r\n// This script fixes the admin login issues by providing a direct login option \r\n// and ensuring proper admin routing and authentication.\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { auth } from './firebaseClient';\r\nimport { signInWithEmailAndPassword } from 'firebase/auth';\r\nimport { getFirebaseErrorMessage, logFirebaseError } from './firebaseErrorHandler';\r\nimport { API_ENDPOINTS } from './config';\r\n\r\nfunction AdminLoginFix() {\r\n  const [credentials, setCredentials] = useState({\r\n    email: 'admin123@gmail.com',\r\n    password: 'AutoAdmin123'\r\n  });\r\n  const [status, setStatus] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [adminData, setAdminData] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setCredentials(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleLogin = async () => {\r\n    setStatus('Logging in...');\r\n    setError('');\r\n    setIsLoading(true);\r\n    \r\n    try {\r\n      // Step 1: Firebase Authentication\r\n      setStatus('Authenticating with Firebase...');\r\n      const userCredential = await signInWithEmailAndPassword(\r\n        auth, \r\n        credentials.email, \r\n        credentials.password\r\n      );\r\n      \r\n      // Step 2: Get the ID token\r\n      setStatus('Getting Firebase ID token...');\r\n      const idToken = await userCredential.user.getIdToken(true);\r\n      \r\n      // Step 3: Verify with backend server\r\n      setStatus('Verifying with backend server...');\r\n      \r\n      // First try the deployed backend\r\n      try {\r\n        const response = await fetch(API_ENDPOINTS.LOGIN, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json'\r\n          },\r\n          body: JSON.stringify({ idToken })\r\n        });\r\n        \r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setAdminData(data.user);\r\n          \r\n          // Step 4: Store in localStorage\r\n          localStorage.setItem('user', JSON.stringify({\r\n            ...data.user,\r\n            token: idToken,\r\n            isAdmin: true,\r\n            role: 'admin'\r\n          }));\r\n          \r\n          setStatus('Admin login successful! Redirecting to dashboard...');\r\n          \r\n          // Step 5: Redirect to reload the page with the authenticated user\r\n          setTimeout(() => {\r\n            window.location.reload();\r\n          }, 2000);\r\n          \r\n          return;\r\n        } else {\r\n          // Log the failed response for debugging\r\n          console.warn('Backend server responded with error:', response.status);\r\n          const errorText = await response.text();\r\n          console.warn('Error details:', errorText);\r\n        }\r\n      } catch (backendError) {\r\n        console.log('Backend verification failed, trying alternative method', backendError);\r\n      }\r\n      \r\n      // If backend verification fails, we'll create a basic admin user object\r\n      const user = userCredential.user;\r\n      const basicAdminUser = {\r\n        uid: user.uid,\r\n        email: user.email,\r\n        name: user.displayName || 'Admin User',\r\n        isAdmin: true,\r\n        role: 'admin',\r\n        token: idToken,\r\n        lastLogin: new Date().toISOString()\r\n      };\r\n      \r\n      // Store in localStorage\r\n      localStorage.setItem('user', JSON.stringify(basicAdminUser));\r\n      setAdminData(basicAdminUser);\r\n      \r\n      setStatus('Admin login successful! Redirecting to dashboard...');\r\n      \r\n      // Redirect to reload the page with the authenticated user\r\n      setTimeout(() => {\r\n        window.location.reload();\r\n      }, 2000);\r\n      \r\n    } catch (error) {\r\n      logFirebaseError(error, 'Admin Login');\r\n      setError(`Admin login failed: ${getFirebaseErrorMessage(error)}`);\r\n      setStatus('');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Function to check token validity\r\n  const checkTokenValidity = async (token) => {\r\n    try {\r\n      // Try to verify the token with your backend\r\n      const response = await fetch(API_ENDPOINTS.VERIFY_TOKEN || '/api/verify-token', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      \r\n      return response.ok;\r\n    } catch (error) {\r\n      console.warn('Token verification failed:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Check if already logged in\r\n    const storedUser = localStorage.getItem('user');\r\n    if (storedUser) {\r\n      try {\r\n        const userData = JSON.parse(storedUser);\r\n        if (userData.isAdmin || userData.role === 'admin') {\r\n          // Check if we have a token and it's not expired\r\n          if (userData.token) {\r\n            // Set the admin data from localStorage\r\n            setAdminData(userData);\r\n            setStatus('Already logged in as admin');\r\n            \r\n            // Optionally verify the token in the background\r\n            checkTokenValidity(userData.token).then(isValid => {\r\n              if (!isValid) {\r\n                console.log('Admin token is no longer valid, but proceeding with cached data');\r\n              }\r\n            });\r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.error('Error parsing stored user data:', e);\r\n        localStorage.removeItem('user'); // Clear invalid data\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Styles\r\n  const styles = {\r\n    container: {\r\n      maxWidth: '500px',\r\n      margin: '20px auto',\r\n      padding: '20px',\r\n      borderRadius: '8px',\r\n      boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\r\n      backgroundColor: '#fff'\r\n    },\r\n    title: {\r\n      color: '#d32f2f',\r\n      marginBottom: '20px'\r\n    },\r\n    formGroup: {\r\n      marginBottom: '15px'\r\n    },\r\n    label: {\r\n      display: 'block',\r\n      marginBottom: '5px',\r\n      fontWeight: 'bold'\r\n    },\r\n    input: {\r\n      width: '100%',\r\n      padding: '10px',\r\n      borderRadius: '4px',\r\n      border: '1px solid #ddd',\r\n      fontSize: '16px'\r\n    },\r\n    button: {\r\n      backgroundColor: '#d32f2f',\r\n      color: 'white',\r\n      border: 'none',\r\n      padding: '12px 20px',\r\n      borderRadius: '4px',\r\n      fontSize: '16px',\r\n      cursor: 'pointer',\r\n      width: '100%',\r\n      marginTop: '10px',\r\n      opacity: isLoading ? 0.7 : 1,\r\n      pointerEvents: isLoading ? 'none' : 'auto'\r\n    },\r\n    status: {\r\n      marginTop: '15px',\r\n      padding: '10px',\r\n      borderRadius: '4px',\r\n      backgroundColor: '#e8f5e9',\r\n      color: '#2e7d32'\r\n    },\r\n    error: {\r\n      marginTop: '15px',\r\n      padding: '10px',\r\n      borderRadius: '4px',\r\n      backgroundColor: '#ffebee',\r\n      color: '#c62828'\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h2 style={styles.title}>Direct Admin Login</h2>\r\n      \r\n      {adminData ? (\r\n        <div style={styles.status}>\r\n          <strong>Logged in as admin:</strong> {adminData.email}\r\n          <p>If you're not seeing the admin dashboard, please refresh the page.</p>\r\n          <button \r\n            style={{...styles.button, backgroundColor: '#1976d2', marginTop: '15px'}}\r\n            onClick={() => window.location.reload()}\r\n          >\r\n            Refresh Page\r\n          </button>\r\n          <button \r\n            style={{...styles.button, backgroundColor: '#ff9800', marginTop: '10px'}}\r\n            onClick={() => {\r\n              localStorage.removeItem('user');\r\n              setAdminData(null);\r\n              setStatus('');\r\n              window.location.reload();\r\n            }}\r\n          >\r\n            Sign Out\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div style={styles.formGroup}>\r\n            <label style={styles.label}>Admin Email</label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={credentials.email}\r\n              onChange={handleChange}\r\n              style={styles.input}\r\n              placeholder=\"Enter admin email\"\r\n              disabled={isLoading}\r\n            />\r\n          </div>\r\n          \r\n          <div style={styles.formGroup}>\r\n            <label style={styles.label}>Admin Password</label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={credentials.password}\r\n              onChange={handleChange}\r\n              style={styles.input}\r\n              placeholder=\"Enter admin password\"\r\n              disabled={isLoading}\r\n            />\r\n          </div>\r\n          \r\n          <button onClick={handleLogin} style={styles.button} disabled={isLoading}>\r\n            {isLoading ? 'Signing In...' : 'Sign In as Admin'}\r\n          </button>\r\n          \r\n          {status && <div style={styles.status}>{status}</div>}\r\n          {error && <div style={styles.error}>{error}</div>}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminLoginFix;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}