{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tulani.Mtshwelo\\\\Promo\\\\AutoPromote\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { auth, db, storage } from './firebaseClient';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport LoginForm from './LoginForm';\nimport RegisterForm from './RegisterForm';\nimport ContentUploadForm from './ContentUploadForm';\nimport ContentList from './ContentList';\nimport AdminDashboard from './AdminDashboard';\nimport EnvTest from './components/EnvTest';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(() => {\n    const stored = localStorage.getItem('user');\n    return stored ? JSON.parse(stored) : null;\n  });\n  const [content, setContent] = useState([]);\n  const [showLogin, setShowLogin] = useState(false);\n  const [showRegister, setShowRegister] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [analytics, setAnalytics] = useState(null);\n\n  // Authentication listener\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async firebaseUser => {\n      if (!firebaseUser) {\n        // User is signed out of Firebase\n        handleLogout();\n        return;\n      }\n      try {\n        // Get a fresh token\n        const token = await firebaseUser.getIdToken(true);\n\n        // Check for stored user data\n        const storedUser = localStorage.getItem('user');\n        const userData = storedUser ? JSON.parse(storedUser) : null;\n        if (userData && userData.email === firebaseUser.email) {\n          // Update the token in the stored data\n          userData.token = token;\n          localStorage.setItem('user', JSON.stringify(userData));\n          setUser(userData);\n          setIsAdmin(userData.role === 'admin');\n        }\n        console.log('Firebase auth state changed:', firebaseUser.email);\n      } catch (error) {\n        console.error('Error refreshing token:', error);\n        handleLogout();\n      }\n    });\n\n    // Cleanup subscription\n    return () => unsubscribe();\n  }, []);\n  useEffect(() => {\n    if (user && user.token) {\n      setIsAdmin(user.role === 'admin');\n      if (user.role === 'admin') {\n        fetchAnalytics();\n      } else {\n        fetchUserContent();\n      }\n    }\n    // eslint-disable-next-line\n  }, [user]);\n  const fetchUserContent = async () => {\n    try {\n      if (!user || !user.token) {\n        console.log('No user or token available');\n        return;\n      }\n      console.log('Fetching content with token');\n\n      // Get a fresh token\n      const currentUser = auth.currentUser;\n      const freshToken = currentUser ? await currentUser.getIdToken(true) : user.token;\n      const res = await fetch('http://localhost:5000/api/content/my-content', {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${freshToken}`,\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n          'Origin': 'http://localhost:3000'\n        },\n        mode: 'cors'\n      });\n      if (res.status === 401) {\n        console.log('Authentication failed, logging out');\n        handleLogout();\n        return;\n      }\n      if (!res.ok) {\n        console.error('Failed to fetch content:', res.status, await res.text());\n        return;\n      }\n      const data = await res.json();\n      setContent(data.content || []);\n    } catch (error) {\n      console.error('Failed to fetch content:', error);\n    }\n  };\n  const fetchAnalytics = async () => {\n    if (!user || !user.token || user.role !== 'admin') {\n      console.log('Not authorized to fetch analytics');\n      return;\n    }\n    try {\n      console.log('Fetching analytics with token:', user.token);\n      const res = await fetch('https://autopromote.onrender.com/api/admin/analytics/overview', {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${user.token}`,\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n          'Origin': 'http://localhost:3000'\n        },\n        mode: 'cors'\n      });\n      if (res.status === 401) {\n        console.log('Admin authentication failed, logging out');\n        handleLogout();\n        return;\n      }\n      if (!res.ok) {\n        console.error('Failed to fetch analytics:', res.status, await res.text());\n        return;\n      }\n      const data = await res.json();\n      setAnalytics(data);\n    } catch (error) {\n      console.error('Failed to fetch analytics:', error);\n    }\n  };\n  const loginUser = async (email, password) => {\n    try {\n      // Sign in with Firebase\n      const userCredential = await signInWithEmailAndPassword(auth, email, password);\n      const {\n        user: firebaseUser\n      } = userCredential;\n\n      // Get the ID token\n      const idToken = await firebaseUser.getIdToken();\n\n      // Verify token with our backend\n      const res = await fetch('https://autopromote.onrender.com/api/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n          'Origin': 'http://localhost:3000'\n        },\n        body: JSON.stringify({\n          idToken\n        })\n      });\n      if (res.ok) {\n        const data = await res.json();\n        handleLogin({\n          ...data.user,\n          token: data.token\n        });\n      } else {\n        const error = await res.json();\n        throw new Error(error.message || 'Login failed');\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      alert(error.message || 'Login failed');\n    }\n  };\n  const registerUser = async (name, email, password) => {\n    try {\n      const res = await fetch('https://autopromote.onrender.com/api/auth/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name,\n          email,\n          password\n        })\n      });\n      if (res.ok) {\n        const data = await res.json();\n        handleRegister({\n          ...data.user,\n          token: data.token\n        });\n      } else {\n        alert('Registration failed');\n      }\n    } catch (error) {\n      console.error('Registration error:', error);\n      alert('Registration error');\n    }\n  };\n  const handleLogin = async userData => {\n    try {\n      // Clear any existing data\n      localStorage.clear();\n\n      // Ensure we have a token\n      if (!userData.token) {\n        console.error('No token provided in user data');\n        return;\n      }\n\n      // Log the authentication data\n      console.log('Logging in user:', {\n        email: userData.email,\n        role: userData.role,\n        hasToken: Boolean(userData.token)\n      });\n\n      // Store the complete user data\n      localStorage.setItem('user', JSON.stringify(userData));\n\n      // Update the state\n      setUser(userData);\n      setIsAdmin(userData.role === 'admin');\n      setShowLogin(false);\n      console.log('Login successful:', userData.role);\n\n      // Fetch data based on user role\n      if (userData.role === 'admin') {\n        await fetchAnalytics();\n      } else {\n        await fetchUserContent();\n      }\n    } catch (error) {\n      console.error('Error during login:', error);\n      handleLogout();\n    }\n  };\n  const handleRegister = userData => {\n    setUser(userData);\n    setShowRegister(false);\n  };\n  const handleLogout = async () => {\n    try {\n      // Sign out from Firebase\n      await auth.signOut();\n\n      // Clear local state\n      setUser(null);\n      setContent([]);\n      setAnalytics(null);\n      setIsAdmin(false);\n\n      // Clear local storage\n      localStorage.removeItem('user');\n      localStorage.removeItem('token');\n      localStorage.removeItem('adminToken');\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n  };\n\n  // Firebase Storage upload\n  const handleUploadContent = async contentData => {\n    try {\n      let url = '';\n      if (contentData.type === 'article') {\n        url = contentData.articleText || '';\n      } else {\n        // Upload file to Firebase Storage\n        const file = contentData.file;\n        if (!file) {\n          alert('No file selected!');\n          return;\n        }\n\n        // Debug: log file info\n        console.log('Uploading file:', file);\n\n        // Check file type and size (optional)\n        if (file.size > 50 * 1024 * 1024) {\n          alert('File is too large. Max 50MB allowed.');\n          return;\n        }\n\n        // Get fresh token\n        const currentUser = auth.currentUser;\n        if (!currentUser) {\n          throw new Error('No authenticated user found');\n        }\n        const filePath = `content/${Date.now()}_${file.name}`;\n        const storageRef = ref(storage, filePath);\n        console.log('Starting file upload to:', filePath);\n\n        // Upload the file\n        const uploadResult = await uploadBytes(storageRef, file);\n        console.log('Upload completed:', uploadResult);\n\n        // Get the download URL\n        url = await getDownloadURL(storageRef);\n        console.log('Download URL obtained:', url);\n        if (!url) {\n          alert('Could not get download URL for uploaded file.');\n          return;\n        }\n      }\n      const payload = {\n        title: contentData.title,\n        type: contentData.type,\n        url,\n        description: contentData.description || ''\n      };\n      const res = await fetch('https://autopromote.onrender.com/api/content/upload', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${user.token}`\n        },\n        body: JSON.stringify(payload)\n      });\n      if (res.ok) {\n        fetchUserContent();\n      } else {\n        const error = await res.json();\n        console.error('Failed to upload content', error);\n        alert(error.error || 'Failed to upload content');\n      }\n    } catch (error) {\n      console.error('Error uploading content:', error);\n      alert('Error uploading content: ' + error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(EnvTest, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"AutoPromote\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        children: user ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Welcome, \", user.name, \"!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowLogin(true);\n              setShowRegister(false);\n            },\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowRegister(true);\n              setShowLogin(false);\n            },\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [showLogin && /*#__PURE__*/_jsxDEV(LoginForm, {\n        onLogin: handleLogin,\n        loginUser: loginUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 23\n      }, this), showRegister && /*#__PURE__*/_jsxDEV(RegisterForm, {\n        registerUser: registerUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 26\n      }, this), user && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: isAdmin ? /*#__PURE__*/_jsxDEV(AdminDashboard, {\n          analytics: analytics,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(ContentUploadForm, {\n            onUpload: handleUploadContent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ContentList, {\n            content: content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 15\n        }, this)\n      }, void 0, false), !user && !showLogin && !showRegister && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"WelcomeSection\",\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          minHeight: '60vh',\n          background: 'linear-gradient(135deg, #1976d2 0%, #64b5f6 100%)',\n          color: '#fff',\n          borderRadius: '16px',\n          boxShadow: '0 8px 32px rgba(25, 118, 210, 0.2)',\n          padding: '48px 24px',\n          margin: '32px auto',\n          maxWidth: '500px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://cdn-icons-png.flaticon.com/512/3135/3135715.png\",\n          alt: \"AutoPromote Logo\",\n          style: {\n            width: 80,\n            marginBottom: 24\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: '2.5rem',\n            fontWeight: 700,\n            marginBottom: 16\n          },\n          children: \"Welcome to AutoPromote\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '1.2rem',\n            marginBottom: 32,\n            textAlign: 'center',\n            maxWidth: 400\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontWeight: 500\n            },\n            children: \"AI-powered platform\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this), \" for content promotion and monetization.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 115\n          }, this), \"Grow your audience, boost your revenue, and automate your success.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowRegister(true),\n          style: {\n            background: '#fff',\n            color: '#1976d2',\n            fontWeight: 600,\n            fontSize: '1.1rem',\n            padding: '12px 32px',\n            borderRadius: '8px',\n            border: 'none',\n            boxShadow: '0 2px 8px rgba(25, 118, 210, 0.15)',\n            cursor: 'pointer',\n            transition: 'background 0.2s'\n          },\n          onMouseOver: e => e.target.style.background = '#e3f2fd',\n          onMouseOut: e => e.target.style.background = '#fff',\n          children: \"Get Started\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 349,\n    columnNumber: 5\n  }, this);\n}\n\n// ...LoginForm, RegisterForm, ContentUploadForm, ContentList, AdminDashboard remain unchanged...\n_s(App, \"5Zq8qXYaNnvOFRZOqI638xYEEHQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","auth","db","storage","onAuthStateChanged","ref","uploadBytes","getDownloadURL","LoginForm","RegisterForm","ContentUploadForm","ContentList","AdminDashboard","EnvTest","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","user","setUser","stored","localStorage","getItem","JSON","parse","content","setContent","showLogin","setShowLogin","showRegister","setShowRegister","isAdmin","setIsAdmin","analytics","setAnalytics","unsubscribe","firebaseUser","handleLogout","token","getIdToken","storedUser","userData","email","setItem","stringify","role","console","log","error","fetchAnalytics","fetchUserContent","currentUser","freshToken","res","fetch","method","headers","mode","status","ok","text","data","json","loginUser","password","userCredential","signInWithEmailAndPassword","idToken","body","handleLogin","Error","message","alert","registerUser","name","handleRegister","clear","hasToken","Boolean","signOut","removeItem","handleUploadContent","contentData","url","type","articleText","file","size","filePath","Date","now","storageRef","uploadResult","payload","title","description","Authorization","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onLogin","onUpload","style","display","flexDirection","alignItems","justifyContent","minHeight","background","color","borderRadius","boxShadow","padding","margin","maxWidth","src","alt","width","marginBottom","fontSize","fontWeight","textAlign","border","cursor","transition","onMouseOver","e","target","onMouseOut","_c","$RefreshReg$"],"sources":["C:/Users/Tulani.Mtshwelo/Promo/AutoPromote/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { auth, db, storage } from './firebaseClient';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport LoginForm from './LoginForm';\nimport RegisterForm from './RegisterForm';\nimport ContentUploadForm from './ContentUploadForm';\nimport ContentList from './ContentList';\nimport AdminDashboard from './AdminDashboard';\nimport EnvTest from './components/EnvTest';\n\nfunction App() {\n  const [user, setUser] = useState(() => {\n    const stored = localStorage.getItem('user');\n    return stored ? JSON.parse(stored) : null;\n  });\n  const [content, setContent] = useState([]);\n  const [showLogin, setShowLogin] = useState(false);\n  const [showRegister, setShowRegister] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [analytics, setAnalytics] = useState(null);\n\n  // Authentication listener\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (firebaseUser) => {\n      if (!firebaseUser) {\n        // User is signed out of Firebase\n        handleLogout();\n        return;\n      }\n\n      try {\n        // Get a fresh token\n        const token = await firebaseUser.getIdToken(true);\n        \n        // Check for stored user data\n        const storedUser = localStorage.getItem('user');\n        const userData = storedUser ? JSON.parse(storedUser) : null;\n        \n        if (userData && userData.email === firebaseUser.email) {\n          // Update the token in the stored data\n          userData.token = token;\n          localStorage.setItem('user', JSON.stringify(userData));\n          setUser(userData);\n          setIsAdmin(userData.role === 'admin');\n        }\n\n        console.log('Firebase auth state changed:', firebaseUser.email);\n      } catch (error) {\n        console.error('Error refreshing token:', error);\n        handleLogout();\n      }\n    });\n\n    // Cleanup subscription\n    return () => unsubscribe();\n  }, []);\n\n  useEffect(() => {\n    if (user && user.token) {\n      setIsAdmin(user.role === 'admin');\n      if (user.role === 'admin') {\n        fetchAnalytics();\n      } else {\n        fetchUserContent();\n      }\n    }\n    // eslint-disable-next-line\n  }, [user]);\n\n  const fetchUserContent = async () => {\n    try {\n      if (!user || !user.token) {\n        console.log('No user or token available');\n        return;\n      }\n\n      console.log('Fetching content with token');\n      \n      // Get a fresh token\n      const currentUser = auth.currentUser;\n      const freshToken = currentUser ? await currentUser.getIdToken(true) : user.token;\n      \n      const res = await fetch('http://localhost:5000/api/content/my-content', {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${freshToken}`,\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n          'Origin': 'http://localhost:3000'\n        },\n        mode: 'cors'\n      });\n      \n      if (res.status === 401) {\n        console.log('Authentication failed, logging out');\n        handleLogout();\n        return;\n      }\n      \n      if (!res.ok) {\n        console.error('Failed to fetch content:', res.status, await res.text());\n        return;\n      }\n      \n      const data = await res.json();\n      setContent(data.content || []);\n    } catch (error) {\n      console.error('Failed to fetch content:', error);\n    }\n  };\n\n  const fetchAnalytics = async () => {\n    if (!user || !user.token || user.role !== 'admin') {\n      console.log('Not authorized to fetch analytics');\n      return;\n    }\n    \n    try {\n      console.log('Fetching analytics with token:', user.token);\n      const res = await fetch('https://autopromote.onrender.com/api/admin/analytics/overview', {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${user.token}`,\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n          'Origin': 'http://localhost:3000'\n        },\n        mode: 'cors'\n      });\n      \n      if (res.status === 401) {\n        console.log('Admin authentication failed, logging out');\n        handleLogout();\n        return;\n      }\n      \n      if (!res.ok) {\n        console.error('Failed to fetch analytics:', res.status, await res.text());\n        return;\n      }\n      \n      const data = await res.json();\n      setAnalytics(data);\n    } catch (error) {\n      console.error('Failed to fetch analytics:', error);\n    }\n  };\n\n  const loginUser = async (email, password) => {\n    try {\n      // Sign in with Firebase\n      const userCredential = await signInWithEmailAndPassword(auth, email, password);\n      const { user: firebaseUser } = userCredential;\n\n      // Get the ID token\n      const idToken = await firebaseUser.getIdToken();\n\n      // Verify token with our backend\n      const res = await fetch('https://autopromote.onrender.com/api/auth/login', {\n        method: 'POST',\n        headers: { \n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n          'Origin': 'http://localhost:3000'\n        },\n        body: JSON.stringify({ idToken }),\n      });\n\n      if (res.ok) {\n        const data = await res.json();\n        handleLogin({\n          ...data.user,\n          token: data.token\n        });\n      } else {\n        const error = await res.json();\n        throw new Error(error.message || 'Login failed');\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      alert(error.message || 'Login failed');\n    }\n  };\n\n  const registerUser = async (name, email, password) => {\n    try {\n      const res = await fetch('https://autopromote.onrender.com/api/auth/register', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name, email, password }),\n      });\n      if (res.ok) {\n        const data = await res.json();\n        handleRegister({ ...data.user, token: data.token });\n      } else {\n        alert('Registration failed');\n      }\n    } catch (error) {\n      console.error('Registration error:', error);\n      alert('Registration error');\n    }\n  };\n\n  const handleLogin = async (userData) => {\n    try {\n      // Clear any existing data\n      localStorage.clear();\n      \n      // Ensure we have a token\n      if (!userData.token) {\n        console.error('No token provided in user data');\n        return;\n      }\n      \n      // Log the authentication data\n      console.log('Logging in user:', {\n        email: userData.email,\n        role: userData.role,\n        hasToken: Boolean(userData.token)\n      });\n      \n      // Store the complete user data\n      localStorage.setItem('user', JSON.stringify(userData));\n      \n      // Update the state\n      setUser(userData);\n      setIsAdmin(userData.role === 'admin');\n      setShowLogin(false);\n      \n      console.log('Login successful:', userData.role);\n      \n      // Fetch data based on user role\n      if (userData.role === 'admin') {\n        await fetchAnalytics();\n      } else {\n        await fetchUserContent();\n      }\n    } catch (error) {\n      console.error('Error during login:', error);\n      handleLogout();\n    }\n  };\n\n  const handleRegister = (userData) => {\n    setUser(userData);\n    setShowRegister(false);\n  };\n\n  const handleLogout = async () => {\n    try {\n      // Sign out from Firebase\n      await auth.signOut();\n      \n      // Clear local state\n      setUser(null);\n      setContent([]);\n      setAnalytics(null);\n      setIsAdmin(false);\n      \n      // Clear local storage\n      localStorage.removeItem('user');\n      localStorage.removeItem('token');\n      localStorage.removeItem('adminToken');\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n  };\n\n  // Firebase Storage upload\n  const handleUploadContent = async (contentData) => {\n    try {\n      let url = '';\n      if (contentData.type === 'article') {\n        url = contentData.articleText || '';\n      } else {\n        // Upload file to Firebase Storage\n        const file = contentData.file;\n        if (!file) {\n          alert('No file selected!');\n          return;\n        }\n\n        // Debug: log file info\n        console.log('Uploading file:', file);\n\n        // Check file type and size (optional)\n        if (file.size > 50 * 1024 * 1024) {\n          alert('File is too large. Max 50MB allowed.');\n          return;\n        }\n\n        // Get fresh token\n        const currentUser = auth.currentUser;\n        if (!currentUser) {\n          throw new Error('No authenticated user found');\n        }\n\n        const filePath = `content/${Date.now()}_${file.name}`;\n        const storageRef = ref(storage, filePath);\n        \n        console.log('Starting file upload to:', filePath);\n        \n        // Upload the file\n        const uploadResult = await uploadBytes(storageRef, file);\n        console.log('Upload completed:', uploadResult);\n        \n        // Get the download URL\n        url = await getDownloadURL(storageRef);\n        console.log('Download URL obtained:', url);\n        \n        if (!url) {\n          alert('Could not get download URL for uploaded file.');\n          return;\n        }\n      }\n\n      const payload = {\n        title: contentData.title,\n        type: contentData.type,\n        url,\n        description: contentData.description || '',\n      };\n\n      const res = await fetch('https://autopromote.onrender.com/api/content/upload', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${user.token}`,\n        },\n        body: JSON.stringify(payload),\n      });\n\n      if (res.ok) {\n        fetchUserContent();\n      } else {\n        const error = await res.json();\n        console.error('Failed to upload content', error);\n        alert(error.error || 'Failed to upload content');\n      }\n    } catch (error) {\n      console.error('Error uploading content:', error);\n      alert('Error uploading content: ' + error.message);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <EnvTest />\n      <header className=\"App-header\">\n        <h1>AutoPromote</h1>\n        <nav>\n          {user ? (\n            <div>\n              <span>Welcome, {user.name}!</span>\n              <button onClick={handleLogout}>Logout</button>\n            </div>\n          ) : (\n            <div>\n              <button onClick={() => { setShowLogin(true); setShowRegister(false); }}>Login</button>\n              <button onClick={() => { setShowRegister(true); setShowLogin(false); }}>Register</button>\n            </div>\n          )}\n        </nav>\n      </header>\n\n      <main>\n        {showLogin && <LoginForm onLogin={handleLogin} loginUser={loginUser} />}\n        {showRegister && <RegisterForm registerUser={registerUser} />}\n\n        {user && (\n          <>\n            {isAdmin ? (\n              <AdminDashboard analytics={analytics} user={user} />\n            ) : (\n              <div>\n                <ContentUploadForm onUpload={handleUploadContent} />\n                <ContentList content={content} />\n              </div>\n            )}\n          </>\n        )}\n\n        {!user && !showLogin && !showRegister && (\n          <div className=\"WelcomeSection\" style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            minHeight: '60vh',\n            background: 'linear-gradient(135deg, #1976d2 0%, #64b5f6 100%)',\n            color: '#fff',\n            borderRadius: '16px',\n            boxShadow: '0 8px 32px rgba(25, 118, 210, 0.2)',\n            padding: '48px 24px',\n            margin: '32px auto',\n            maxWidth: '500px',\n          }}>\n            <img src=\"https://cdn-icons-png.flaticon.com/512/3135/3135715.png\" alt=\"AutoPromote Logo\" style={{ width: 80, marginBottom: 24 }} />\n            <h2 style={{ fontSize: '2.5rem', fontWeight: 700, marginBottom: 16 }}>Welcome to AutoPromote</h2>\n            <p style={{ fontSize: '1.2rem', marginBottom: 32, textAlign: 'center', maxWidth: 400 }}>\n              <span style={{ fontWeight: 500 }}>AI-powered platform</span> for content promotion and monetization.<br />\n              Grow your audience, boost your revenue, and automate your success.\n            </p>\n            <button \n              onClick={() => setShowRegister(true)}\n              style={{\n                background: '#fff',\n                color: '#1976d2',\n                fontWeight: 600,\n                fontSize: '1.1rem',\n                padding: '12px 32px',\n                borderRadius: '8px',\n                border: 'none',\n                boxShadow: '0 2px 8px rgba(25, 118, 210, 0.15)',\n                cursor: 'pointer',\n                transition: 'background 0.2s',\n              }}\n              onMouseOver={e => e.target.style.background = '#e3f2fd'}\n              onMouseOut={e => e.target.style.background = '#fff'}\n            >\n              Get Started\n            </button>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\n// ...LoginForm, RegisterForm, ContentUploadForm, ContentList, AdminDashboard remain unchanged...\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}