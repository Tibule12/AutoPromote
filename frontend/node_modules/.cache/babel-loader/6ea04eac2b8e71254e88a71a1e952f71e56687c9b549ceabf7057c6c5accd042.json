{"ast":null,"code":"import _objectSpread from\"C:/Users/Tulani.Mtshwelo/Promo/AutoPromote/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// Load user from localStorage if available\nconst[user,setUser]=useState(()=>{const stored=localStorage.getItem('user');return stored?JSON.parse(stored):null;});const[content,setContent]=useState([]);const[showLogin,setShowLogin]=useState(false);const[showRegister,setShowRegister]=useState(false);const[isAdmin,setIsAdmin]=useState(false);const[analytics,setAnalytics]=useState(null);// Save user to localStorage whenever it changes\nuseEffect(()=>{if(user){localStorage.setItem('user',JSON.stringify(user));setIsAdmin(user.role==='admin');fetchUserContent();if(user.role==='admin'){fetchAnalytics();}}else{localStorage.removeItem('user');}},[user]);const fetchUserContent=async()=>{try{const res=await fetch('http://localhost:5000/api/content/my-content',{headers:{Authorization:\"Bearer \".concat(user.token)}});if(res.status===401){handleLogout();return;}if(!res.ok){console.error('Failed to fetch content: HTTP',res.status);return;}const data=await res.json();setContent(data.content||[]);}catch(error){console.error('Failed to fetch content:',error);}};const fetchAnalytics=async()=>{try{const res=await fetch('http://localhost:5000/api/admin/analytics/overview',{headers:{Authorization:\"Bearer \".concat(user.token)}});if(res.status===401){handleLogout();return;}if(!res.ok){console.error('Failed to fetch analytics: HTTP',res.status);return;}const data=await res.json();setAnalytics(data);}catch(error){console.error('Failed to fetch analytics:',error);}};const loginUser=async(email,password)=>{try{const res=await fetch('http://localhost:5000/api/auth/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});if(res.ok){const data=await res.json();// Use data.user and data.token from backend response\nhandleLogin(_objectSpread(_objectSpread({},data.user),{},{token:data.token}));}else{alert('Login failed');}}catch(error){console.error('Login error:',error);alert('Login error');}};const handleLogin=userData=>{// Remove any legacy keys\nlocalStorage.removeItem('token');localStorage.removeItem('adminToken');setUser(userData);setShowLogin(false);};const handleRegister=userData=>{setUser(userData);setShowRegister(false);};const handleLogout=()=>{setUser(null);setContent([]);setAnalytics(null);setIsAdmin(false);localStorage.removeItem('user');localStorage.removeItem('token');localStorage.removeItem('adminToken');};const handleUploadContent=async contentData=>{try{const res=await fetch('http://localhost:5000/api/content/upload',{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(user.token)},body:JSON.stringify(contentData)});if(res.ok){fetchUserContent();}else{console.error('Failed to upload content');}}catch(error){console.error('Error uploading content:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"AutoPromote\"}),/*#__PURE__*/_jsx(\"nav\",{children:user?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome, \",user.name,\"!\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Logout\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowLogin(true);setShowRegister(false);},children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowRegister(true);setShowLogin(false);},children:\"Register\"})]})})]}),/*#__PURE__*/_jsxs(\"main\",{children:[showLogin&&/*#__PURE__*/_jsx(LoginForm,{onLogin:handleLogin,loginUser:loginUser}),showRegister&&/*#__PURE__*/_jsx(RegisterForm,{onRegister:handleRegister}),user&&!isAdmin&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ContentUploadForm,{onUpload:handleUploadContent}),/*#__PURE__*/_jsx(ContentList,{content:content})]}),user&&isAdmin&&/*#__PURE__*/_jsx(AdminDashboard,{analytics:analytics,user:user}),!user&&!showLogin&&!showRegister&&/*#__PURE__*/_jsxs(\"div\",{className:\"WelcomeSection\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome to AutoPromote\"}),/*#__PURE__*/_jsx(\"p\",{children:\"AI-powered platform for content promotion and monetization\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowRegister(true),children:\"Get Started\"})]})]})]});}const LoginForm=_ref=>{let{onLogin,loginUser}=_ref;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const handleSubmit=async e=>{e.preventDefault();await loginUser(email,password);};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]});};const RegisterForm=_ref2=>{let{onRegister}=_ref2;const[name,setName]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const handleSubmit=async e=>{e.preventDefault();try{const res=await fetch('/api/auth/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name,email,password})});if(res.ok){const data=await res.json();onRegister(data);}else{alert('Registration failed');}}catch(error){console.error('Registration error:',error);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})]});};const ContentUploadForm=_ref3=>{let{onUpload}=_ref3;const[title,setTitle]=useState('');const[type,setType]=useState('video');const[url,setUrl]=useState('');const[description,setDescription]=useState('');const handleSubmit=e=>{e.preventDefault();onUpload({title,type,url,description});setTitle('');setUrl('');setDescription('');};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Upload Content\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:e=>setTitle(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type:\"}),/*#__PURE__*/_jsxs(\"select\",{value:type,onChange:e=>setType(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"video\",children:\"Video\"}),/*#__PURE__*/_jsx(\"option\",{value:\"audio\",children:\"Audio\"}),/*#__PURE__*/_jsx(\"option\",{value:\"image\",children:\"Image\"}),/*#__PURE__*/_jsx(\"option\",{value:\"article\",children:\"Article\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:url,onChange:e=>setUrl(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Upload\"})]});};const ContentList=_ref4=>{let{content}=_ref4;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Content\"}),content.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No content uploaded yet.\"}):/*#__PURE__*/_jsx(\"ul\",{children:content.map(item=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:item.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Type: \",item.type]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",item.description]}),/*#__PURE__*/_jsx(\"a\",{href:item.url,target:\"_blank\",rel:\"noopener noreferrer\",children:\"View Content\"})]},item.id))})]});};const AdminDashboard=_ref5=>{var _analytics$totalUsers,_analytics$newUsersTo,_analytics$totalConte,_analytics$newContent,_analytics$totalViews,_analytics$viewsToday,_analytics$totalReven,_analytics$revenueTod,_analytics$avgRevenue,_analytics$projectedM,_analytics$engagement,_analytics$engagement2,_analytics$activeProm,_analytics$promotions,_analytics$revenueByP;let{analytics,user}=_ref5;const[users,setUsers]=useState([]);const[allContent,setAllContent]=useState([]);const[activeTab,setActiveTab]=useState('overview');const[loadingContentIds,setLoadingContentIds]=useState(new Set());useEffect(()=>{if(analytics&&user){fetchAllUsers();fetchAllContent();}},[analytics,user]);const fetchAllUsers=async()=>{try{const res=await fetch('/api/admin/analytics/users',{headers:{Authorization:\"Bearer \".concat(user.token)}});const data=await res.json();setUsers(data.users||[]);}catch(error){console.error('Failed to fetch users:',error);}};const fetchAllContent=async()=>{try{const res=await fetch('/api/admin/analytics/content',{headers:{Authorization:\"Bearer \".concat(user.token)}});const data=await res.json();setAllContent(data.content||[]);}catch(error){console.error('Failed to fetch content:',error);}};const promoteContent=async contentId=>{try{setLoadingContentIds(prev=>new Set(prev).add(contentId));const res=await fetch(\"/api/content/promote/\".concat(contentId),{method:'POST',headers:{Authorization:\"Bearer \".concat(user.token)}});if(res.ok){alert('Content promotion started!');await fetchAllContent();}else{alert('Failed to start promotion');}}catch(error){console.error('Failed to promote content:',error);alert('Failed to start promotion');}finally{setLoadingContentIds(prev=>{const newSet=new Set(prev);newSet.delete(contentId);return newSet;});}};if(!analytics){return/*#__PURE__*/_jsx(\"div\",{className:\"Loading\",children:\"Loading admin dashboard...\"});}// Fallbacks for analytics values to prevent errors\nconst totalUsers=(_analytics$totalUsers=analytics.totalUsers)!==null&&_analytics$totalUsers!==void 0?_analytics$totalUsers:0;const newUsersToday=(_analytics$newUsersTo=analytics.newUsersToday)!==null&&_analytics$newUsersTo!==void 0?_analytics$newUsersTo:0;const totalContent=(_analytics$totalConte=analytics.totalContent)!==null&&_analytics$totalConte!==void 0?_analytics$totalConte:0;const newContentToday=(_analytics$newContent=analytics.newContentToday)!==null&&_analytics$newContent!==void 0?_analytics$newContent:0;const totalViews=(_analytics$totalViews=analytics.totalViews)!==null&&_analytics$totalViews!==void 0?_analytics$totalViews:0;const viewsToday=(_analytics$viewsToday=analytics.viewsToday)!==null&&_analytics$viewsToday!==void 0?_analytics$viewsToday:0;const totalRevenue=(_analytics$totalReven=analytics.totalRevenue)!==null&&_analytics$totalReven!==void 0?_analytics$totalReven:0;const revenueToday=(_analytics$revenueTod=analytics.revenueToday)!==null&&_analytics$revenueTod!==void 0?_analytics$revenueTod:0;const avgRevenuePerContent=(_analytics$avgRevenue=analytics.avgRevenuePerContent)!==null&&_analytics$avgRevenue!==void 0?_analytics$avgRevenue:0;const projectedMonthlyRevenue=(_analytics$projectedM=analytics.projectedMonthlyRevenue)!==null&&_analytics$projectedM!==void 0?_analytics$projectedM:0;const engagementRate=(_analytics$engagement=analytics.engagementRate)!==null&&_analytics$engagement!==void 0?_analytics$engagement:0;const engagementChange=(_analytics$engagement2=analytics.engagementChange)!==null&&_analytics$engagement2!==void 0?_analytics$engagement2:0;const activePromotions=(_analytics$activeProm=analytics.activePromotions)!==null&&_analytics$activeProm!==void 0?_analytics$activeProm:0;const promotionsCompleted=(_analytics$promotions=analytics.promotionsCompleted)!==null&&_analytics$promotions!==void 0?_analytics$promotions:0;const revenueByPlatform=(_analytics$revenueByP=analytics.revenueByPlatform)!==null&&_analytics$revenueByP!==void 0?_analytics$revenueByP:{};return/*#__PURE__*/_jsxs(\"div\",{className:\"AdminDashboard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDE80 Admin Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-navigation\",children:[/*#__PURE__*/_jsx(\"button\",{className:activeTab==='overview'?'active':'',onClick:()=>setActiveTab('overview'),children:\"\\uD83D\\uDCCA Overview\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab==='users'?'active':'',onClick:()=>setActiveTab('users'),children:\"\\uD83D\\uDC65 Users\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab==='content'?'active':'',onClick:()=>setActiveTab('content'),children:\"\\uD83C\\uDFAC Content\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab==='revenue'?'active':'',onClick:()=>setActiveTab('revenue'),children:\"\\uD83D\\uDCB0 Revenue\"})]}),activeTab==='overview'&&/*#__PURE__*/_jsxs(\"div\",{className:\"overview-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDC65 Total Users\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-number\",children:totalUsers}),/*#__PURE__*/_jsxs(\"p\",{className:\"stat-change\",children:[\"+\",newUsersToday,\" today\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDFAC Total Content\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-number\",children:totalContent}),/*#__PURE__*/_jsxs(\"p\",{className:\"stat-change\",children:[\"+\",newContentToday,\" today\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDC40 Total Views\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-number\",children:totalViews.toLocaleString()}),/*#__PURE__*/_jsxs(\"p\",{className:\"stat-change\",children:[\"+\",viewsToday.toLocaleString(),\" today\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCB0 Total Revenue\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"stat-number\",children:[\"$\",totalRevenue.toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{className:\"stat-change\",children:[\"+$\",revenueToday.toLocaleString(),\" today\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCC8 Engagement Rate\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"stat-number\",children:[engagementRate,\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"stat-change\",children:[engagementChange>=0?'+':'',engagementChange,\"% change\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u26A1 Active Promotions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-number\",children:activePromotions}),/*#__PURE__*/_jsxs(\"p\",{className:\"stat-change\",children:[promotionsCompleted,\" completed\"]})]})]}),activeTab==='users'&&/*#__PURE__*/_jsxs(\"div\",{className:\"users-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDC65 User Management\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Content\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Joined\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"role-badge \".concat(user.role),children:user.role})}),/*#__PURE__*/_jsx(\"td\",{children:user.content_count}),/*#__PURE__*/_jsx(\"td\",{children:new Date(user.created_at).toLocaleDateString()})]},user.id))})]})})]}),activeTab==='content'&&/*#__PURE__*/_jsxs(\"div\",{className:\"content-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDFAC Content Management\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Views\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Revenue\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:allContent.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.title}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"content-type \".concat(item.type),children:item.type})}),/*#__PURE__*/_jsx(\"td\",{children:item.user_name}),/*#__PURE__*/_jsx(\"td\",{children:item.views.toLocaleString()}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",item.revenue.toLocaleString()]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(item.status),children:item.status})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"promote-btn\",onClick:()=>promoteContent(item.id),disabled:item.status==='promoting'||loadingContentIds.has(item.id),children:loadingContentIds.has(item.id)?'Promoting...':item.status==='promoting'?'Promoting...':'ðŸš€ Promote'})})]},item.id))})]})})]}),activeTab==='revenue'&&/*#__PURE__*/_jsxs(\"div\",{className:\"revenue-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCB0 Revenue Analytics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"revenue-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"revenue-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Total Revenue\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"revenue-amount\",children:[\"$\",totalRevenue.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"revenue-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Today's Revenue\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"revenue-amount\",children:[\"$\",revenueToday.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"revenue-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Average per Content\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"revenue-amount\",children:[\"$\",avgRevenuePerContent.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"revenue-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Projected Monthly\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"revenue-amount\",children:[\"$\",projectedMonthlyRevenue.toLocaleString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"revenue-breakdown\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Revenue by Platform\"}),/*#__PURE__*/_jsx(\"div\",{className:\"platform-revenue\",children:revenueByPlatform&&Object.entries(revenueByPlatform).map(_ref6=>{let[platform,amount]=_ref6;return/*#__PURE__*/_jsxs(\"div\",{className:\"platform-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"platform-name\",children:platform}),/*#__PURE__*/_jsxs(\"span\",{className:\"platform-amount\",children:[\"$\",amount.toLocaleString()]})]},platform);})})]})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","user","setUser","stored","localStorage","getItem","JSON","parse","content","setContent","showLogin","setShowLogin","showRegister","setShowRegister","isAdmin","setIsAdmin","analytics","setAnalytics","setItem","stringify","role","fetchUserContent","fetchAnalytics","removeItem","res","fetch","headers","Authorization","concat","token","status","handleLogout","ok","console","error","data","json","loginUser","email","password","method","body","handleLogin","_objectSpread","alert","userData","handleRegister","handleUploadContent","contentData","className","children","name","onClick","LoginForm","onLogin","RegisterForm","onRegister","ContentUploadForm","onUpload","ContentList","AdminDashboard","_ref","setEmail","setPassword","handleSubmit","e","preventDefault","onSubmit","type","value","onChange","target","required","_ref2","setName","_ref3","title","setTitle","setType","url","setUrl","description","setDescription","_ref4","length","map","item","href","rel","id","_ref5","_analytics$totalUsers","_analytics$newUsersTo","_analytics$totalConte","_analytics$newContent","_analytics$totalViews","_analytics$viewsToday","_analytics$totalReven","_analytics$revenueTod","_analytics$avgRevenue","_analytics$projectedM","_analytics$engagement","_analytics$engagement2","_analytics$activeProm","_analytics$promotions","_analytics$revenueByP","users","setUsers","allContent","setAllContent","activeTab","setActiveTab","loadingContentIds","setLoadingContentIds","Set","fetchAllUsers","fetchAllContent","promoteContent","contentId","prev","add","newSet","delete","totalUsers","newUsersToday","totalContent","newContentToday","totalViews","viewsToday","totalRevenue","revenueToday","avgRevenuePerContent","projectedMonthlyRevenue","engagementRate","engagementChange","activePromotions","promotionsCompleted","revenueByPlatform","toLocaleString","content_count","Date","created_at","toLocaleDateString","user_name","views","revenue","disabled","has","Object","entries","_ref6","platform","amount"],"sources":["C:/Users/Tulani.Mtshwelo/Promo/AutoPromote/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\n\nfunction App() {\n  // Load user from localStorage if available\n  const [user, setUser] = useState(() => {\n    const stored = localStorage.getItem('user');\n    return stored ? JSON.parse(stored) : null;\n  });\n  const [content, setContent] = useState([]);\n  const [showLogin, setShowLogin] = useState(false);\n  const [showRegister, setShowRegister] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [analytics, setAnalytics] = useState(null);\n\n  // Save user to localStorage whenever it changes\n  useEffect(() => {\n    if (user) {\n      localStorage.setItem('user', JSON.stringify(user));\n      setIsAdmin(user.role === 'admin');\n      fetchUserContent();\n      if (user.role === 'admin') {\n        fetchAnalytics();\n      }\n    } else {\n      localStorage.removeItem('user');\n    }\n  }, [user]);\n\n  const fetchUserContent = async () => {\n    try {\n      const res = await fetch('http://localhost:5000/api/content/my-content', {\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n        },\n      });\n      if (res.status === 401) {\n        handleLogout();\n        return;\n      }\n      if (!res.ok) {\n        console.error('Failed to fetch content: HTTP', res.status);\n        return;\n      }\n      const data = await res.json();\n      setContent(data.content || []);\n    } catch (error) {\n      console.error('Failed to fetch content:', error);\n    }\n  };\n\n  const fetchAnalytics = async () => {\n    try {\n      const res = await fetch('http://localhost:5000/api/admin/analytics/overview', {\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n        },\n      });\n      if (res.status === 401) {\n        handleLogout();\n        return;\n      }\n      if (!res.ok) {\n        console.error('Failed to fetch analytics: HTTP', res.status);\n        return;\n      }\n      const data = await res.json();\n      setAnalytics(data);\n    } catch (error) {\n      console.error('Failed to fetch analytics:', error);\n    }\n  };\n\n  const loginUser = async (email, password) => {\n    try {\n      const res = await fetch('http://localhost:5000/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email, password }),\n      });\n      if (res.ok) {\n        const data = await res.json();\n        // Use data.user and data.token from backend response\n        handleLogin({ ...data.user, token: data.token });\n      } else {\n        alert('Login failed');\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      alert('Login error');\n    }\n  };\n\n  const handleLogin = (userData) => {\n    // Remove any legacy keys\n    localStorage.removeItem('token');\n    localStorage.removeItem('adminToken');\n    setUser(userData);\n    setShowLogin(false);\n  };\n\n  const handleRegister = (userData) => {\n    setUser(userData);\n    setShowRegister(false);\n  };\n\n  const handleLogout = () => {\n    setUser(null);\n    setContent([]);\n    setAnalytics(null);\n    setIsAdmin(false);\n    localStorage.removeItem('user');\n    localStorage.removeItem('token');\n    localStorage.removeItem('adminToken');\n  };\n\n  const handleUploadContent = async (contentData) => {\n    try {\n      const res = await fetch('http://localhost:5000/api/content/upload', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${user.token}`,\n        },\n        body: JSON.stringify(contentData),\n      });\n      if (res.ok) {\n        fetchUserContent();\n      } else {\n        console.error('Failed to upload content');\n      }\n    } catch (error) {\n      console.error('Error uploading content:', error);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>AutoPromote</h1>\n        <nav>\n          {user ? (\n            <div>\n              <span>Welcome, {user.name}!</span>\n              <button onClick={handleLogout}>Logout</button>\n            </div>\n          ) : (\n            <div>\n              <button onClick={() => { setShowLogin(true); setShowRegister(false); }}>Login</button>\n              <button onClick={() => { setShowRegister(true); setShowLogin(false); }}>Register</button>\n            </div>\n          )}\n        </nav>\n      </header>\n\n      <main>\n        {showLogin && <LoginForm onLogin={handleLogin} loginUser={loginUser} />}\n        {showRegister && <RegisterForm onRegister={handleRegister} />}\n\n        {user && !isAdmin && (\n          <div>\n            <ContentUploadForm onUpload={handleUploadContent} />\n            <ContentList content={content} />\n          </div>\n        )}\n\n        {user && isAdmin && (\n          <AdminDashboard analytics={analytics} user={user} />\n        )}\n\n        {!user && !showLogin && !showRegister && (\n          <div className=\"WelcomeSection\">\n            <h2>Welcome to AutoPromote</h2>\n            <p>AI-powered platform for content promotion and monetization</p>\n            <button onClick={() => setShowRegister(true)}>Get Started</button>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\nconst LoginForm = ({ onLogin, loginUser }) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await loginUser(email, password);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <h2>Login</h2>\n      <div>\n        <label>Email:</label>\n        <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\n      </div>\n      <div>\n        <label>Password:</label>\n        <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\n      </div>\n      <button type=\"submit\">Login</button>\n    </form>\n  );\n};\n\nconst RegisterForm = ({ onRegister }) => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const res = await fetch('/api/auth/register', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name, email, password }),\n      });\n      if (res.ok) {\n        const data = await res.json();\n        onRegister(data);\n      } else {\n        alert('Registration failed');\n      }\n    } catch (error) {\n      console.error('Registration error:', error);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <h2>Register</h2>\n      <div>\n        <label>Name:</label>\n        <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} required />\n      </div>\n      <div>\n        <label>Email:</label>\n        <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\n      </div>\n      <div>\n        <label>Password:</label>\n        <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\n      </div>\n      <button type=\"submit\">Register</button>\n    </form>\n  );\n};\n\nconst ContentUploadForm = ({ onUpload }) => {\n  const [title, setTitle] = useState('');\n  const [type, setType] = useState('video');\n  const [url, setUrl] = useState('');\n  const [description, setDescription] = useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpload({ title, type, url, description });\n    setTitle('');\n    setUrl('');\n    setDescription('');\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <h2>Upload Content</h2>\n      <div>\n        <label>Title:</label>\n        <input type=\"text\" value={title} onChange={(e) => setTitle(e.target.value)} required />\n      </div>\n      <div>\n        <label>Type:</label>\n        <select value={type} onChange={(e) => setType(e.target.value)}>\n          <option value=\"video\">Video</option>\n          <option value=\"audio\">Audio</option>\n          <option value=\"image\">Image</option>\n          <option value=\"article\">Article</option>\n        </select>\n      </div>\n      <div>\n        <label>URL:</label>\n        <input type=\"url\" value={url} onChange={(e) => setUrl(e.target.value)} required />\n      </div>\n      <div>\n        <label>Description:</label>\n        <textarea value={description} onChange={(e) => setDescription(e.target.value)} />\n      </div>\n      <button type=\"submit\">Upload</button>\n    </form>\n  );\n};\n\nconst ContentList = ({ content }) => {\n  return (\n    <div>\n      <h2>Your Content</h2>\n      {content.length === 0 ? (\n        <p>No content uploaded yet.</p>\n      ) : (\n        <ul>\n          {content.map((item) => (\n            <li key={item.id}>\n              <h3>{item.title}</h3>\n              <p>Type: {item.type}</p>\n              <p>Description: {item.description}</p>\n              <a href={item.url} target=\"_blank\" rel=\"noopener noreferrer\">View Content</a>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nconst AdminDashboard = ({ analytics, user }) => {\n  const [users, setUsers] = useState([]);\n  const [allContent, setAllContent] = useState([]);\n  const [activeTab, setActiveTab] = useState('overview');\n  const [loadingContentIds, setLoadingContentIds] = useState(new Set());\n\n  useEffect(() => {\n    if (analytics && user) {\n      fetchAllUsers();\n      fetchAllContent();\n    }\n  }, [analytics, user]);\n\n  const fetchAllUsers = async () => {\n    try {\n      const res = await fetch('/api/admin/analytics/users', {\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n        },\n      });\n      const data = await res.json();\n      setUsers(data.users || []);\n    } catch (error) {\n      console.error('Failed to fetch users:', error);\n    }\n  };\n\n  const fetchAllContent = async () => {\n    try {\n      const res = await fetch('/api/admin/analytics/content', {\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n        },\n      });\n      const data = await res.json();\n      setAllContent(data.content || []);\n    } catch (error) {\n      console.error('Failed to fetch content:', error);\n    }\n  };\n\n  const promoteContent = async (contentId) => {\n    try {\n      setLoadingContentIds(prev => new Set(prev).add(contentId));\n      const res = await fetch(`/api/content/promote/${contentId}`, {\n        method: 'POST',\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n        },\n      });\n      if (res.ok) {\n        alert('Content promotion started!');\n        await fetchAllContent();\n      } else {\n        alert('Failed to start promotion');\n      }\n    } catch (error) {\n      console.error('Failed to promote content:', error);\n      alert('Failed to start promotion');\n    } finally {\n      setLoadingContentIds(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(contentId);\n        return newSet;\n      });\n    }\n  };\n\n  if (!analytics) {\n    return <div className=\"Loading\">Loading admin dashboard...</div>;\n  }\n\n  // Fallbacks for analytics values to prevent errors\n  const totalUsers = analytics.totalUsers ?? 0;\n  const newUsersToday = analytics.newUsersToday ?? 0;\n  const totalContent = analytics.totalContent ?? 0;\n  const newContentToday = analytics.newContentToday ?? 0;\n  const totalViews = analytics.totalViews ?? 0;\n  const viewsToday = analytics.viewsToday ?? 0;\n  const totalRevenue = analytics.totalRevenue ?? 0;\n  const revenueToday = analytics.revenueToday ?? 0;\n  const avgRevenuePerContent = analytics.avgRevenuePerContent ?? 0;\n  const projectedMonthlyRevenue = analytics.projectedMonthlyRevenue ?? 0;\n  const engagementRate = analytics.engagementRate ?? 0;\n  const engagementChange = analytics.engagementChange ?? 0;\n  const activePromotions = analytics.activePromotions ?? 0;\n  const promotionsCompleted = analytics.promotionsCompleted ?? 0;\n  const revenueByPlatform = analytics.revenueByPlatform ?? {};\n\n  return (\n    <div className=\"AdminDashboard\">\n      <h2>ðŸš€ Admin Dashboard</h2>\n      \n      <div className=\"tab-navigation\">\n        <button \n          className={activeTab === 'overview' ? 'active' : ''}\n          onClick={() => setActiveTab('overview')}\n        >\n          ðŸ“Š Overview\n        </button>\n        <button \n          className={activeTab === 'users' ? 'active' : ''}\n          onClick={() => setActiveTab('users')}\n        >\n          ðŸ‘¥ Users\n        </button>\n        <button \n          className={activeTab === 'content' ? 'active' : ''}\n          onClick={() => setActiveTab('content')}\n        >\n          ðŸŽ¬ Content\n        </button>\n        <button \n          className={activeTab === 'revenue' ? 'active' : ''}\n          onClick={() => setActiveTab('revenue')}\n        >\n          ðŸ’° Revenue\n        </button>\n      </div>\n\n      {activeTab === 'overview' && (\n        <div className=\"overview-grid\">\n          <div className=\"stat-card\">\n            <h3>ðŸ‘¥ Total Users</h3>\n            <p className=\"stat-number\">{totalUsers}</p>\n            <p className=\"stat-change\">+{newUsersToday} today</p>\n          </div>\n          <div className=\"stat-card\">\n            <h3>ðŸŽ¬ Total Content</h3>\n            <p className=\"stat-number\">{totalContent}</p>\n            <p className=\"stat-change\">+{newContentToday} today</p>\n          </div>\n          <div className=\"stat-card\">\n            <h3>ðŸ‘€ Total Views</h3>\n            <p className=\"stat-number\">{totalViews.toLocaleString()}</p>\n            <p className=\"stat-change\">+{viewsToday.toLocaleString()} today</p>\n          </div>\n          <div className=\"stat-card\">\n            <h3>ðŸ’° Total Revenue</h3>\n            <p className=\"stat-number\">${totalRevenue.toLocaleString()}</p>\n            <p className=\"stat-change\">+${revenueToday.toLocaleString()} today</p>\n          </div>\n          <div className=\"stat-card\">\n            <h3>ðŸ“ˆ Engagement Rate</h3>\n            <p className=\"stat-number\">{engagementRate}%</p>\n            <p className=\"stat-change\">{engagementChange >= 0 ? '+' : ''}{engagementChange}% change</p>\n          </div>\n          <div className=\"stat-card\">\n            <h3>âš¡ Active Promotions</h3>\n            <p className=\"stat-number\">{activePromotions}</p>\n            <p className=\"stat-change\">{promotionsCompleted} completed</p>\n          </div>\n        </div>\n      )}\n\n      {activeTab === 'users' && (\n        <div className=\"users-section\">\n          <h3>ðŸ‘¥ User Management</h3>\n          <div className=\"table-container\">\n            <table>\n              <thead>\n                <tr>\n                  <th>Name</th>\n                  <th>Email</th>\n                  <th>Role</th>\n                  <th>Content</th>\n                  <th>Joined</th>\n                </tr>\n              </thead>\n              <tbody>\n                {users.map((user) => (\n                  <tr key={user.id}>\n                    <td>{user.name}</td>\n                    <td>{user.email}</td>\n                    <td>\n                      <span className={`role-badge ${user.role}`}>\n                        {user.role}\n                      </span>\n                    </td>\n                    <td>{user.content_count}</td>\n                    <td>{new Date(user.created_at).toLocaleDateString()}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {activeTab === 'content' && (\n        <div className=\"content-section\">\n          <h3>ðŸŽ¬ Content Management</h3>\n          <div className=\"table-container\">\n            <table>\n              <thead>\n                <tr>\n                  <th>Title</th>\n                  <th>Type</th>\n                  <th>User</th>\n                  <th>Views</th>\n                  <th>Revenue</th>\n                  <th>Status</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {allContent.map((item) => (\n                  <tr key={item.id}>\n                    <td>{item.title}</td>\n                    <td>\n                      <span className={`content-type ${item.type}`}>\n                        {item.type}\n                      </span>\n                    </td>\n                    <td>{item.user_name}</td>\n                    <td>{item.views.toLocaleString()}</td>\n                    <td>${item.revenue.toLocaleString()}</td>\n                    <td>\n                      <span className={`status-badge ${item.status}`}>\n                        {item.status}\n                      </span>\n                    </td>\n                    <td>\n                      <button \n                        className=\"promote-btn\"\n                        onClick={() => promoteContent(item.id)}\n                        disabled={item.status === 'promoting' || loadingContentIds.has(item.id)}\n                      >\n                        {loadingContentIds.has(item.id) ? 'Promoting...' : (item.status === 'promoting' ? 'Promoting...' : 'ðŸš€ Promote')}\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {activeTab === 'revenue' && (\n        <div className=\"revenue-section\">\n          <h3>ðŸ’° Revenue Analytics</h3>\n          <div className=\"revenue-stats\">\n            <div className=\"revenue-card\">\n              <h4>Total Revenue</h4>\n              <p className=\"revenue-amount\">${totalRevenue.toLocaleString()}</p>\n            </div>\n            <div className=\"revenue-card\">\n              <h4>Today's Revenue</h4>\n              <p className=\"revenue-amount\">${revenueToday.toLocaleString()}</p>\n            </div>\n            <div className=\"revenue-card\">\n              <h4>Average per Content</h4>\n              <p className=\"revenue-amount\">${avgRevenuePerContent.toLocaleString()}</p>\n            </div>\n            <div className=\"revenue-card\">\n              <h4>Projected Monthly</h4>\n              <p className=\"revenue-amount\">${projectedMonthlyRevenue.toLocaleString()}</p>\n            </div>\n          </div>\n          \n          <div className=\"revenue-breakdown\">\n            <h4>Revenue by Platform</h4>\n            <div className=\"platform-revenue\">\n              {revenueByPlatform && Object.entries(revenueByPlatform).map(([platform, amount]) => (\n                <div key={platform} className=\"platform-item\">\n                  <span className=\"platform-name\">{platform}</span>\n                  <span className=\"platform-amount\">${amount.toLocaleString()}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}