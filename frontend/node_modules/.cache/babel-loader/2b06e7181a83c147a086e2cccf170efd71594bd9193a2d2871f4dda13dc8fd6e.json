{"ast":null,"code":"import _objectSpread from\"C:/Users/Tulani.Mtshwelo/Promo/AutoPromote/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{collection,getDocs,query,limit,orderBy,where,Timestamp}from'firebase/firestore';import{db}from'./firebaseClient';import mockAnalyticsData from'./mockAnalyticsData';import'./AdminDashboard.css';import StatCard from'./components/StatCard';import AdminChart from'./components/AdminChart';import AdminTable from'./components/AdminTable';import ActivityFeed from'./components/ActivityFeed';import'./AdminDashboard.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function AdminDashboard(_ref){let{analytics,user}=_ref;const[dashboardData,setDashboardData]=useState(null);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);const[activeTab,setActiveTab]=useState('overview');const[refreshing,setRefreshing]=useState(false);const refreshData=()=>{setRefreshing(true);setIsLoading(true);fetchFirestoreData();};const fetchFirestoreData=async()=>{try{console.log('Attempting to fetch analytics data from Firestore...');// Get current date for today's metrics\nconst today=new Date();today.setHours(0,0,0,0);const todayTimestamp=Timestamp.fromDate(today);// Fetch users count\nconst usersSnapshot=await getDocs(collection(db,'users'));const totalUsers=usersSnapshot.size;// Fetch new users today\nconst newUsersQuery=query(collection(db,'users'),where('createdAt','>=',todayTimestamp));const newUsersSnapshot=await getDocs(newUsersQuery);const newUsersToday=newUsersSnapshot.size;// Fetch content count\nconst contentSnapshot=await getDocs(collection(db,'content'));const totalContent=contentSnapshot.size;// Fetch new content today\nconst newContentQuery=query(collection(db,'content'),where('createdAt','>=',todayTimestamp));const newContentSnapshot=await getDocs(newContentQuery);const newContentToday=newContentSnapshot.size;// Fetch promotions\nconst promotionsSnapshot=await getDocs(collection(db,'promotions'));const allPromotions=promotionsSnapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data()));// Calculate active and scheduled promotions\nconst now=new Date();const activePromotions=allPromotions.filter(promo=>{var _promo$startDate,_promo$endDate;return((_promo$startDate=promo.startDate)===null||_promo$startDate===void 0?void 0:_promo$startDate.toDate())<=now&&((_promo$endDate=promo.endDate)===null||_promo$endDate===void 0?void 0:_promo$endDate.toDate())>=now;}).length;const scheduledPromotions=allPromotions.filter(promo=>{var _promo$startDate2;return((_promo$startDate2=promo.startDate)===null||_promo$startDate2===void 0?void 0:_promo$startDate2.toDate())>now;}).length;const promotionsCompleted=allPromotions.filter(promo=>{var _promo$endDate2;return((_promo$endDate2=promo.endDate)===null||_promo$endDate2===void 0?void 0:_promo$endDate2.toDate())<now;}).length;// Get top performing content\nconst topContentQuery=query(collection(db,'content'),orderBy('views','desc'),limit(5));const topContentSnapshot=await getDocs(topContentQuery);const topContent=topContentSnapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data()));// Get recent activities\nconst recentActivitiesQuery=query(collection(db,'activities'),orderBy('timestamp','desc'),limit(10));const recentActivitiesSnapshot=await getDocs(recentActivitiesQuery);const recentActivities=recentActivitiesSnapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data()));// Create analytics data from Firestore data\nconst firestoreAnalyticsData={totalUsers,newUsersToday,totalContent,newContentToday,totalRevenue:12458.90,// Placeholder - would come from transactions collection\nrevenueToday:567.45,// Placeholder - would come from transactions collection\nactivePromotions,scheduledPromotions,activeUsers:Math.round(totalUsers*0.52),// Placeholder - would come from user activity\nactiveUsersLastWeek:Math.round(totalUsers*0.48),// Placeholder\nengagementRate:0.62,// Placeholder\nengagementChange:0.08,// Placeholder\nuserSegmentation:{powerUsers:Math.round(totalUsers*0.12),regularUsers:Math.round(totalUsers*0.58),occasionalUsers:Math.round(totalUsers*0.30),total:totalUsers},contentPerformance:{high:Math.round(totalContent*0.2),medium:Math.round(totalContent*0.6),low:Math.round(totalContent*0.2)},avgRevenuePerContent:26.07,// Placeholder\navgRevenuePerUser:48.67,// Placeholder\nprojectedMonthlyRevenue:15780.00,// Placeholder\npromotionsCompleted,topContent,recentActivities,// Performance metrics\nperformanceMetrics:{conversionRate:3.2,bounceRate:42.8,averageSessionDuration:187,// seconds\nreturnVisitorRate:28.5,engagementByPlatform:{mobile:64,desktop:31,tablet:5}},// User demographics\ndemographics:{ageGroups:{'18-24':15,'25-34':32,'35-44':28,'45-54':18,'55+':7},geoDistribution:{'North America':42,'Europe':28,'Asia':18,'South America':8,'Africa':3,'Oceania':1},deviceTypes:{'iOS':38,'Android':41,'Windows':16,'Mac':4,'Other':1}},// Revenue and financial data\nfinancialMetrics:{revenueByMonth:[{month:'Jan',revenue:8450},{month:'Feb',revenue:9120},{month:'Mar',revenue:8790},{month:'Apr',revenue:9840},{month:'May',revenue:10380},{month:'Jun',revenue:11200},{month:'Jul',revenue:12150},{month:'Aug',revenue:12458}],revenueByContentType:{'Article':42,'Video':28,'Image':18,'Audio':12},transactionTrends:{averageOrderValue:38.72,conversionRate:2.8,repeatPurchaseRate:18.5}}};console.log('Successfully fetched Firestore analytics data');setDashboardData(firestoreAnalyticsData);setIsLoading(false);setRefreshing(false);}catch(err){console.error('Error fetching analytics data from Firestore:',err);setError(err.message);// Fallback to mock data after a short delay\nconsole.log('Falling back to mock analytics data');setTimeout(()=>{setDashboardData(mockAnalyticsData);setIsLoading(false);setRefreshing(false);},1500);}};useEffect(()=>{// If analytics data is provided, use it\nif(analytics){setDashboardData(analytics);setIsLoading(false);}else{// Try to fetch data from Firestore\nfetchFirestoreData();}},[analytics]);const StatCard=_ref2=>{let{title,value,subtitle,color='#1976d2',icon,trend}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'24px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',flex:'1',minWidth:'220px',margin:'10px',position:'relative',overflow:'hidden',transition:'transform 0.3s ease, box-shadow 0.3s ease',cursor:'pointer',border:'1px solid rgba(0,0,0,0.05)'},onMouseOver:e=>{e.currentTarget.style.transform='translateY(-5px)';e.currentTarget.style.boxShadow='0 8px 30px rgba(0,0,0,0.12)';},onMouseOut:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 4px 20px rgba(0,0,0,0.08)';},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'15px',right:'15px',color:color,opacity:0.2,fontSize:'2.5rem'},children:icon}),/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',borderRadius:'8px',backgroundColor:\"\".concat(color,\"15\"),display:'flex',alignItems:'center',justifyContent:'center',marginBottom:'15px'},children:/*#__PURE__*/_jsx(\"span\",{style:{color:color,fontSize:'1.2rem'},children:icon})}),/*#__PURE__*/_jsx(\"h3\",{style:{color:'#333',marginTop:0,fontSize:'1.1rem',fontWeight:'600'},children:title}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.8rem',fontWeight:'bold',marginBottom:'8px',color:'#111'},children:typeof value==='number'&&title.toLowerCase().includes('revenue')?\"$\".concat(value.toFixed(2)):value}),subtitle&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.9rem',color:'#666',display:'flex',alignItems:'center'},children:[trend&&/*#__PURE__*/_jsxs(\"span\",{style:{color:trend>0?'#2e7d32':'#d32f2f',marginRight:'5px',display:'inline-flex',alignItems:'center'},children:[trend>0?'â†‘':'â†“',\" \",Math.abs(trend),\"%\"]}),subtitle]})]});};const ProgressBar=_ref3=>{let{value,max,color='#1976d2',label}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'5px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.9rem',color:'#555'},children:label}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.9rem',color:'#555',fontWeight:'bold'},children:[value,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'8px',backgroundColor:'#f0f0f0',borderRadius:'4px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',width:\"\".concat(value/max*100,\"%\"),backgroundColor:color,borderRadius:'4px'}})})]});};const TabButton=_ref4=>{let{name,label,icon}=_ref4;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(name),style:{backgroundColor:activeTab===name?'#1976d2':'transparent',color:activeTab===name?'white':'#555',border:'none',padding:'12px 20px',borderRadius:'8px',fontSize:'0.95rem',cursor:'pointer',display:'flex',alignItems:'center',margin:'0 5px',fontWeight:activeTab===name?'600':'400',transition:'all 0.2s ease'},children:[/*#__PURE__*/_jsx(\"span\",{style:{marginRight:'8px',fontSize:'1.1rem'},children:icon}),label]});};const BarChart=_ref5=>{let{data,title}=_ref5;return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',borderRadius:'12px',padding:'20px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,marginBottom:'20px',color:'#333'},children:title}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',height:'200px',alignItems:'flex-end'},children:data.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{height:\"\".concat(item.revenue/Math.max(...data.map(d=>d.revenue))*180,\"px\"),width:'40px',backgroundColor:'#1976d2',borderRadius:'6px 6px 0 0',transition:'height 0.5s ease'}}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'8px',fontSize:'0.8rem',color:'#666'},children:item.month})]},index))})]});};const PieChart=_ref6=>{let{data,title,colors}=_ref6;return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',borderRadius:'12px',padding:'20px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,marginBottom:'20px',color:'#333'},children:title}),/*#__PURE__*/_jsx(\"div\",{children:Object.entries(data).map((_ref7,index)=>{let[key,value]=_ref7;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'5px'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{style:{display:'inline-block',width:'12px',height:'12px',backgroundColor:colors[index%colors.length],borderRadius:'2px',marginRight:'8px'}}),key]}),/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:'bold'},children:[value,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'8px',backgroundColor:'#f0f0f0',borderRadius:'4px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',width:\"\".concat(value,\"%\"),backgroundColor:colors[index%colors.length],borderRadius:'4px'}})})]},index);})})]});};const DataTable=_ref8=>{let{data,columns,title}=_ref8;return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',borderRadius:'12px',padding:'20px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',marginBottom:'24px',overflowX:'auto'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,marginBottom:'20px',color:'#333'},children:title}),/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:columns.map((column,index)=>/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'left',padding:'12px 15px',borderBottom:'1px solid #eee',color:'#555',fontWeight:'600'},children:column.header},index))})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map((row,rowIndex)=>/*#__PURE__*/_jsx(\"tr\",{style:{backgroundColor:rowIndex%2===0?'#f9f9f9':'white'},children:columns.map((column,colIndex)=>/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px 15px',borderBottom:'1px solid #eee',color:'#333'},children:column.render?column.render(row):row[column.accessor]},colIndex))},rowIndex))})]})]});};const ActivityFeed=_ref9=>{let{activities}=_ref9;return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',borderRadius:'12px',padding:'20px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,marginBottom:'20px',color:'#333'},children:\"Recent Activity\"}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'400px',overflowY:'auto'},children:activities&&activities.length>0?activities.map((activity,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px 0',borderBottom:index!==activities.length-1?'1px solid #eee':'none',display:'flex',alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',borderRadius:'50%',backgroundColor:'#e3f2fd',display:'flex',alignItems:'center',justifyContent:'center',marginRight:'15px',flexShrink:0},children:/*#__PURE__*/_jsx(\"span\",{style:{color:'#1976d2'},children:activity.type==='user'?'ðŸ‘¤':activity.type==='content'?'ðŸ“„':activity.type==='promotion'?'ðŸš€':'ðŸ“Š'})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#333',marginBottom:'3px'},children:activity.title||'Action performed'}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',color:'#666',marginBottom:'3px'},children:activity.description||'No description available'}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.8rem',color:'#999'},children:activity.timestamp?new Date(activity.timestamp.seconds*1000).toLocaleString():'Unknown time'})]})]},index)):/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'20px',color:'#666'},children:\"No recent activities to display\"})})]});};if(isLoading){return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:24,padding:'24px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'#333'},children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(\"div\",{style:{margin:'24px auto',width:'50px',height:'50px',border:'5px solid rgba(25, 118, 210, 0.2)',borderTop:'5px solid #1976d2',borderRadius:'50%',animation:'spin 1s linear infinite'},children:/*#__PURE__*/_jsx(\"style\",{children:\"\\n            @keyframes spin {\\n              0% { transform: rotate(0deg); }\\n              100% { transform: rotate(360deg); }\\n            }\\n          \"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Welcome, \",user.name,\" (Admin)\"]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:16,color:'#666'},children:\"Loading analytics data...\"})]});}// Define the dashboard content based on active tab\nconst renderDashboardContent=()=>{var _dashboardData$financ,_dashboardData$demogr,_dashboardData$demogr2,_dashboardData$demogr3,_dashboardData$perfor,_dashboardData$perfor2,_dashboardData$perfor3,_dashboardData$perfor4,_dashboardData$perfor5,_dashboardData$financ2,_dashboardData$financ3,_dashboardData$financ4,_dashboardData$financ5,_dashboardData$financ6,_dashboardData$financ7,_dashboardData$financ8,_dashboardData$financ9,_dashboardData$financ0;switch(activeTab){case'overview':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{marginTop:24},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap',margin:'-10px'},children:[/*#__PURE__*/_jsx(StatCard,{title:\"Total Users\",value:dashboardData.totalUsers,subtitle:\"\".concat(dashboardData.newUsersToday,\" new today\"),icon:\"\\uD83D\\uDC65\",trend:12}),/*#__PURE__*/_jsx(StatCard,{title:\"Total Content\",value:dashboardData.totalContent,subtitle:\"\".concat(dashboardData.newContentToday,\" new today\"),color:\"#5e35b1\",icon:\"\\uD83D\\uDCC4\",trend:8}),/*#__PURE__*/_jsx(StatCard,{title:\"Total Revenue\",value:dashboardData.totalRevenue,subtitle:\"$\".concat(dashboardData.revenueToday,\" today\"),color:\"#2e7d32\",icon:\"\\uD83D\\uDCB0\",trend:15}),/*#__PURE__*/_jsx(StatCard,{title:\"Active Promotions\",value:dashboardData.activePromotions,subtitle:\"\".concat(dashboardData.scheduledPromotions,\" scheduled\"),color:\"#ed6c02\",icon:\"\\uD83D\\uDE80\",trend:5})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:30,display:'flex',gap:'20px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:2},children:/*#__PURE__*/_jsx(BarChart,{data:((_dashboardData$financ=dashboardData.financialMetrics)===null||_dashboardData$financ===void 0?void 0:_dashboardData$financ.revenueByMonth)||[],title:\"Monthly Revenue\"})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(PieChart,{data:((_dashboardData$demogr=dashboardData.demographics)===null||_dashboardData$demogr===void 0?void 0:_dashboardData$demogr.deviceTypes)||{},title:\"Device Distribution\",colors:['#1976d2','#5e35b1','#2e7d32','#ed6c02','#d32f2f']})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10,display:'flex',gap:'20px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(DataTable,{title:\"Top Performing Content\",data:dashboardData.topContent||[],columns:[{header:'Title',accessor:'title'},{header:'Type',accessor:'type'},{header:'Views',accessor:'views'},{header:'Engagement',accessor:'engagementRate',render:row=>\"\".concat(((row.engagementRate||0)*100).toFixed(1),\"%\")}]})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(ActivityFeed,{activities:dashboardData.recentActivities||[]})})]})]});case'users':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{marginTop:24},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap',margin:'-10px'},children:[/*#__PURE__*/_jsx(StatCard,{title:\"Active Users\",value:dashboardData.activeUsers,subtitle:\"\".concat(dashboardData.activeUsersLastWeek,\" last week\"),color:\"#1976d2\",icon:\"\\uD83D\\uDC64\",trend:5}),/*#__PURE__*/_jsx(StatCard,{title:\"Engagement Rate\",value:\"\".concat((dashboardData.engagementRate*100).toFixed(1),\"%\"),subtitle:\"\".concat(dashboardData.engagementChange>0?'+':'').concat((dashboardData.engagementChange*100).toFixed(1),\"% change\"),color:\"#5e35b1\",icon:\"\\uD83D\\uDCCA\",trend:dashboardData.engagementChange*100}),/*#__PURE__*/_jsx(StatCard,{title:\"Power Users\",value:dashboardData.userSegmentation.powerUsers,subtitle:\"\".concat((dashboardData.userSegmentation.powerUsers/dashboardData.userSegmentation.total*100).toFixed(1),\"% of total users\"),color:\"#2e7d32\",icon:\"\\u2B50\",trend:3})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:30,display:'flex',gap:'20px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',borderRadius:'12px',padding:'20px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,marginBottom:'20px',color:'#333'},children:\"User Segmentation\"}),/*#__PURE__*/_jsx(ProgressBar,{label:\"Power Users\",value:Math.round(dashboardData.userSegmentation.powerUsers/dashboardData.userSegmentation.total*100),max:100,color:\"#2e7d32\"}),/*#__PURE__*/_jsx(ProgressBar,{label:\"Regular Users\",value:Math.round(dashboardData.userSegmentation.regularUsers/dashboardData.userSegmentation.total*100),max:100,color:\"#1976d2\"}),/*#__PURE__*/_jsx(ProgressBar,{label:\"Occasional Users\",value:Math.round(dashboardData.userSegmentation.occasionalUsers/dashboardData.userSegmentation.total*100),max:100,color:\"#ed6c02\"})]})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(PieChart,{data:((_dashboardData$demogr2=dashboardData.demographics)===null||_dashboardData$demogr2===void 0?void 0:_dashboardData$demogr2.ageGroups)||{},title:\"Age Distribution\",colors:['#1976d2','#5e35b1','#2e7d32','#ed6c02','#d32f2f']})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10,display:'flex',gap:'20px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(PieChart,{data:((_dashboardData$demogr3=dashboardData.demographics)===null||_dashboardData$demogr3===void 0?void 0:_dashboardData$demogr3.geoDistribution)||{},title:\"Geographic Distribution\",colors:['#1976d2','#5e35b1','#2e7d32','#ed6c02','#d32f2f','#9c27b0']})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',borderRadius:'12px',padding:'20px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,marginBottom:'20px',color:'#333'},children:\"Performance Metrics\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 0 50%',padding:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.9rem',color:'#666',marginBottom:'5px'},children:\"Conversion Rate\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:'#1976d2'},children:[(_dashboardData$perfor=dashboardData.performanceMetrics)===null||_dashboardData$perfor===void 0?void 0:_dashboardData$perfor.conversionRate,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 0 50%',padding:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.9rem',color:'#666',marginBottom:'5px'},children:\"Bounce Rate\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:'#ed6c02'},children:[(_dashboardData$perfor2=dashboardData.performanceMetrics)===null||_dashboardData$perfor2===void 0?void 0:_dashboardData$perfor2.bounceRate,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 0 50%',padding:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.9rem',color:'#666',marginBottom:'5px'},children:\"Avg. Session Duration\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:'#2e7d32'},children:[Math.floor(((_dashboardData$perfor3=dashboardData.performanceMetrics)===null||_dashboardData$perfor3===void 0?void 0:_dashboardData$perfor3.averageSessionDuration)/60),\"m \",((_dashboardData$perfor4=dashboardData.performanceMetrics)===null||_dashboardData$perfor4===void 0?void 0:_dashboardData$perfor4.averageSessionDuration)%60,\"s\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 0 50%',padding:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.9rem',color:'#666',marginBottom:'5px'},children:\"Return Visitor Rate\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:'#5e35b1'},children:[(_dashboardData$perfor5=dashboardData.performanceMetrics)===null||_dashboardData$perfor5===void 0?void 0:_dashboardData$perfor5.returnVisitorRate,\"%\"]})]})]})]})})]})]});case'content':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{marginTop:24},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap',margin:'-10px'},children:[/*#__PURE__*/_jsx(StatCard,{title:\"High Performing\",value:dashboardData.contentPerformance.high,color:\"#2e7d32\",icon:\"\\uD83D\\uDD1D\",trend:7}),/*#__PURE__*/_jsx(StatCard,{title:\"Medium Performing\",value:dashboardData.contentPerformance.medium,color:\"#ed6c02\",icon:\"\\uD83D\\uDCCA\",trend:4}),/*#__PURE__*/_jsx(StatCard,{title:\"Low Performing\",value:dashboardData.contentPerformance.low,color:\"#d32f2f\",icon:\"\\uD83D\\uDCC9\",trend:-2}),/*#__PURE__*/_jsx(StatCard,{title:\"Avg Revenue/Content\",value:dashboardData.avgRevenuePerContent,color:\"#2e7d32\",icon:\"\\uD83D\\uDCB2\",trend:10})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:30,display:'flex',gap:'20px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(PieChart,{data:((_dashboardData$financ2=dashboardData.financialMetrics)===null||_dashboardData$financ2===void 0?void 0:_dashboardData$financ2.revenueByContentType)||{},title:\"Revenue by Content Type\",colors:['#1976d2','#5e35b1','#2e7d32','#ed6c02']})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',borderRadius:'12px',padding:'20px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,marginBottom:'20px',color:'#333'},children:\"Content Performance\"}),/*#__PURE__*/_jsx(ProgressBar,{label:\"High Performing\",value:Math.round(dashboardData.contentPerformance.high/dashboardData.totalContent*100),max:100,color:\"#2e7d32\"}),/*#__PURE__*/_jsx(ProgressBar,{label:\"Medium Performing\",value:Math.round(dashboardData.contentPerformance.medium/dashboardData.totalContent*100),max:100,color:\"#ed6c02\"}),/*#__PURE__*/_jsx(ProgressBar,{label:\"Low Performing\",value:Math.round(dashboardData.contentPerformance.low/dashboardData.totalContent*100),max:100,color:\"#d32f2f\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:10},children:/*#__PURE__*/_jsx(DataTable,{title:\"Top Performing Content\",data:dashboardData.topContent||[],columns:[{header:'Title',accessor:'title'},{header:'Type',accessor:'type'},{header:'Views',accessor:'views'},{header:'Engagement',accessor:'engagementRate',render:row=>\"\".concat(((row.engagementRate||0)*100).toFixed(1),\"%\")},{header:'Created',accessor:'createdAt',render:row=>row.createdAt?new Date(row.createdAt.seconds*1000).toLocaleDateString():'N/A'},{header:'Status',accessor:'status',render:row=>/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',borderRadius:'4px',fontSize:'0.8rem',backgroundColor:row.status==='active'?'#e8f5e9':row.status==='pending'?'#fff8e1':'#ffebee',color:row.status==='active'?'#2e7d32':row.status==='pending'?'#ed6c02':'#d32f2f'},children:row.status||'active'})}]})})]});case'revenue':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{marginTop:24},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap',margin:'-10px'},children:[/*#__PURE__*/_jsx(StatCard,{title:\"Avg Revenue/User\",value:dashboardData.avgRevenuePerUser,color:\"#2e7d32\",icon:\"\\uD83D\\uDCB5\",trend:8}),/*#__PURE__*/_jsx(StatCard,{title:\"Projected Monthly\",value:dashboardData.projectedMonthlyRevenue,subtitle:\"Based on current growth\",color:\"#2e7d32\",icon:\"\\uD83D\\uDCC8\",trend:12}),/*#__PURE__*/_jsx(StatCard,{title:\"Completed Promotions\",value:dashboardData.promotionsCompleted,subtitle:\"\".concat((dashboardData.promotionsCompleted/(dashboardData.promotionsCompleted+dashboardData.activePromotions)*100).toFixed(1),\"% completion rate\"),color:\"#1976d2\",icon:\"\\u2705\",trend:6})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:30},children:/*#__PURE__*/_jsx(BarChart,{data:((_dashboardData$financ3=dashboardData.financialMetrics)===null||_dashboardData$financ3===void 0?void 0:_dashboardData$financ3.revenueByMonth)||[],title:\"Monthly Revenue\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10,display:'flex',gap:'20px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(PieChart,{data:((_dashboardData$financ4=dashboardData.financialMetrics)===null||_dashboardData$financ4===void 0?void 0:_dashboardData$financ4.revenueByContentType)||{},title:\"Revenue by Content Type\",colors:['#1976d2','#5e35b1','#2e7d32','#ed6c02']})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',borderRadius:'12px',padding:'20px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,marginBottom:'20px',color:'#333'},children:\"Transaction Metrics\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 0 50%',padding:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.9rem',color:'#666',marginBottom:'5px'},children:\"Avg. Order Value\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:'#1976d2'},children:[\"$\",(_dashboardData$financ5=dashboardData.financialMetrics)===null||_dashboardData$financ5===void 0?void 0:(_dashboardData$financ6=_dashboardData$financ5.transactionTrends)===null||_dashboardData$financ6===void 0?void 0:_dashboardData$financ6.averageOrderValue]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 0 50%',padding:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.9rem',color:'#666',marginBottom:'5px'},children:\"Conversion Rate\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:'#2e7d32'},children:[(_dashboardData$financ7=dashboardData.financialMetrics)===null||_dashboardData$financ7===void 0?void 0:(_dashboardData$financ8=_dashboardData$financ7.transactionTrends)===null||_dashboardData$financ8===void 0?void 0:_dashboardData$financ8.conversionRate,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 0 50%',padding:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.9rem',color:'#666',marginBottom:'5px'},children:\"Repeat Purchase Rate\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:'#5e35b1'},children:[(_dashboardData$financ9=dashboardData.financialMetrics)===null||_dashboardData$financ9===void 0?void 0:(_dashboardData$financ0=_dashboardData$financ9.transactionTrends)===null||_dashboardData$financ0===void 0?void 0:_dashboardData$financ0.repeatPurchaseRate,\"%\"]})]})]})]})})]})]});default:return/*#__PURE__*/_jsx(\"div\",{children:\"No content available for this tab\"});}};return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:24,padding:'0 24px 40px',maxWidth:'1400px',margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px',backgroundColor:'white',padding:'15px 20px',borderRadius:'12px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,color:'#333',fontSize:'1.8rem'},children:\"Admin Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',background:'#f5f5f5',padding:'8px 16px',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',borderRadius:'50%',backgroundColor:'#1976d2',color:'white',display:'flex',alignItems:'center',justifyContent:'center',fontWeight:'bold',marginRight:'10px'},children:user.name.charAt(0).toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600'},children:user.name}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.8rem',color:'#666'},children:\"Administrator\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:refreshData,style:{marginLeft:'20px',backgroundColor:'#1976d2',color:'white',border:'none',padding:'8px 16px',borderRadius:'4px',cursor:'pointer',display:'flex',alignItems:'center',opacity:refreshing?0.7:1},children:[/*#__PURE__*/_jsx(\"span\",{style:{marginRight:'5px'},children:\"\\u21BB\"}),refreshing?'Refreshing...':'Refresh Data']})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',marginBottom:'25px',backgroundColor:'white',padding:'10px',borderRadius:'12px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',justifyContent:'center'},children:[/*#__PURE__*/_jsx(TabButton,{name:\"overview\",label:\"Overview\",icon:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(TabButton,{name:\"users\",label:\"User Analytics\",icon:\"\\uD83D\\uDC65\"}),/*#__PURE__*/_jsx(TabButton,{name:\"content\",label:\"Content Performance\",icon:\"\\uD83D\\uDCC4\"}),/*#__PURE__*/_jsx(TabButton,{name:\"revenue\",label:\"Revenue & Finance\",icon:\"\\uD83D\\uDCB0\"})]}),renderDashboardContent()]});}export default AdminDashboard;","map":{"version":3,"names":["React","useEffect","useState","collection","getDocs","query","limit","orderBy","where","Timestamp","db","mockAnalyticsData","StatCard","AdminChart","AdminTable","ActivityFeed","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminDashboard","_ref","analytics","user","dashboardData","setDashboardData","isLoading","setIsLoading","error","setError","activeTab","setActiveTab","refreshing","setRefreshing","refreshData","fetchFirestoreData","console","log","today","Date","setHours","todayTimestamp","fromDate","usersSnapshot","totalUsers","size","newUsersQuery","newUsersSnapshot","newUsersToday","contentSnapshot","totalContent","newContentQuery","newContentSnapshot","newContentToday","promotionsSnapshot","allPromotions","docs","map","doc","_objectSpread","id","data","now","activePromotions","filter","promo","_promo$startDate","_promo$endDate","startDate","toDate","endDate","length","scheduledPromotions","_promo$startDate2","promotionsCompleted","_promo$endDate2","topContentQuery","topContentSnapshot","topContent","recentActivitiesQuery","recentActivitiesSnapshot","recentActivities","firestoreAnalyticsData","totalRevenue","revenueToday","activeUsers","Math","round","activeUsersLastWeek","engagementRate","engagementChange","userSegmentation","powerUsers","regularUsers","occasionalUsers","total","contentPerformance","high","medium","low","avgRevenuePerContent","avgRevenuePerUser","projectedMonthlyRevenue","performanceMetrics","conversionRate","bounceRate","averageSessionDuration","returnVisitorRate","engagementByPlatform","mobile","desktop","tablet","demographics","ageGroups","geoDistribution","deviceTypes","financialMetrics","revenueByMonth","month","revenue","revenueByContentType","transactionTrends","averageOrderValue","repeatPurchaseRate","err","message","setTimeout","_ref2","title","value","subtitle","color","icon","trend","style","background","borderRadius","padding","boxShadow","flex","minWidth","margin","position","overflow","transition","cursor","border","onMouseOver","e","currentTarget","transform","onMouseOut","children","top","right","opacity","fontSize","width","height","backgroundColor","concat","display","alignItems","justifyContent","marginBottom","marginTop","fontWeight","toLowerCase","includes","toFixed","marginRight","abs","ProgressBar","_ref3","max","label","TabButton","_ref4","name","onClick","BarChart","_ref5","item","index","flexDirection","d","PieChart","_ref6","colors","Object","entries","_ref7","key","DataTable","_ref8","columns","overflowX","borderCollapse","column","textAlign","borderBottom","header","row","rowIndex","colIndex","render","accessor","_ref9","activities","maxHeight","overflowY","activity","flexShrink","type","description","timestamp","seconds","toLocaleString","borderTop","animation","renderDashboardContent","_dashboardData$financ","_dashboardData$demogr","_dashboardData$demogr2","_dashboardData$demogr3","_dashboardData$perfor","_dashboardData$perfor2","_dashboardData$perfor3","_dashboardData$perfor4","_dashboardData$perfor5","_dashboardData$financ2","_dashboardData$financ3","_dashboardData$financ4","_dashboardData$financ5","_dashboardData$financ6","_dashboardData$financ7","_dashboardData$financ8","_dashboardData$financ9","_dashboardData$financ0","flexWrap","gap","floor","createdAt","toLocaleDateString","status","maxWidth","charAt","toUpperCase","marginLeft"],"sources":["C:/Users/Tulani.Mtshwelo/Promo/AutoPromote/frontend/src/AdminDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { collection, getDocs, query, limit, orderBy, where, Timestamp } from 'firebase/firestore';\r\nimport { db } from './firebaseClient';\r\nimport mockAnalyticsData from './mockAnalyticsData';\r\nimport './AdminDashboard.css';\r\n\r\nimport StatCard from './components/StatCard';\r\nimport AdminChart from './components/AdminChart';\r\nimport AdminTable from './components/AdminTable';\r\nimport ActivityFeed from './components/ActivityFeed';\r\nimport './AdminDashboard.css';\r\n\r\nfunction AdminDashboard({ analytics, user }) {\r\n  const [dashboardData, setDashboardData] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  \r\n  const refreshData = () => {\r\n    setRefreshing(true);\r\n    setIsLoading(true);\r\n    fetchFirestoreData();\r\n  };\r\n  \r\n  const fetchFirestoreData = async () => {\r\n    try {\r\n      console.log('Attempting to fetch analytics data from Firestore...');\r\n      \r\n      // Get current date for today's metrics\r\n      const today = new Date();\r\n      today.setHours(0, 0, 0, 0);\r\n      const todayTimestamp = Timestamp.fromDate(today);\r\n      \r\n      // Fetch users count\r\n      const usersSnapshot = await getDocs(collection(db, 'users'));\r\n      const totalUsers = usersSnapshot.size;\r\n      \r\n      // Fetch new users today\r\n      const newUsersQuery = query(\r\n        collection(db, 'users'), \r\n        where('createdAt', '>=', todayTimestamp)\r\n      );\r\n      const newUsersSnapshot = await getDocs(newUsersQuery);\r\n      const newUsersToday = newUsersSnapshot.size;\r\n      \r\n      // Fetch content count\r\n      const contentSnapshot = await getDocs(collection(db, 'content'));\r\n      const totalContent = contentSnapshot.size;\r\n      \r\n      // Fetch new content today\r\n      const newContentQuery = query(\r\n        collection(db, 'content'), \r\n        where('createdAt', '>=', todayTimestamp)\r\n      );\r\n      const newContentSnapshot = await getDocs(newContentQuery);\r\n      const newContentToday = newContentSnapshot.size;\r\n      \r\n      // Fetch promotions\r\n      const promotionsSnapshot = await getDocs(collection(db, 'promotions'));\r\n      const allPromotions = promotionsSnapshot.docs.map(doc => ({\r\n        id: doc.id,\r\n        ...doc.data()\r\n      }));\r\n      \r\n      // Calculate active and scheduled promotions\r\n      const now = new Date();\r\n      const activePromotions = allPromotions.filter(promo => \r\n        promo.startDate?.toDate() <= now && \r\n        promo.endDate?.toDate() >= now\r\n      ).length;\r\n      \r\n      const scheduledPromotions = allPromotions.filter(promo => \r\n        promo.startDate?.toDate() > now\r\n      ).length;\r\n      \r\n      const promotionsCompleted = allPromotions.filter(promo => \r\n        promo.endDate?.toDate() < now\r\n      ).length;\r\n      \r\n      // Get top performing content\r\n      const topContentQuery = query(\r\n        collection(db, 'content'),\r\n        orderBy('views', 'desc'),\r\n        limit(5)\r\n      );\r\n      const topContentSnapshot = await getDocs(topContentQuery);\r\n      const topContent = topContentSnapshot.docs.map(doc => ({\r\n        id: doc.id,\r\n        ...doc.data()\r\n      }));\r\n      \r\n      // Get recent activities\r\n      const recentActivitiesQuery = query(\r\n        collection(db, 'activities'),\r\n        orderBy('timestamp', 'desc'),\r\n        limit(10)\r\n      );\r\n      const recentActivitiesSnapshot = await getDocs(recentActivitiesQuery);\r\n      const recentActivities = recentActivitiesSnapshot.docs.map(doc => ({\r\n        id: doc.id,\r\n        ...doc.data()\r\n      }));\r\n      \r\n      // Create analytics data from Firestore data\r\n      const firestoreAnalyticsData = {\r\n        totalUsers,\r\n        newUsersToday,\r\n        totalContent,\r\n        newContentToday,\r\n        totalRevenue: 12458.90, // Placeholder - would come from transactions collection\r\n        revenueToday: 567.45,   // Placeholder - would come from transactions collection\r\n        activePromotions,\r\n        scheduledPromotions,\r\n        activeUsers: Math.round(totalUsers * 0.52), // Placeholder - would come from user activity\r\n        activeUsersLastWeek: Math.round(totalUsers * 0.48), // Placeholder\r\n        engagementRate: 0.62,   // Placeholder\r\n        engagementChange: 0.08, // Placeholder\r\n        userSegmentation: {\r\n          powerUsers: Math.round(totalUsers * 0.12),\r\n          regularUsers: Math.round(totalUsers * 0.58),\r\n          occasionalUsers: Math.round(totalUsers * 0.30),\r\n          total: totalUsers\r\n        },\r\n        contentPerformance: {\r\n          high: Math.round(totalContent * 0.2),\r\n          medium: Math.round(totalContent * 0.6),\r\n          low: Math.round(totalContent * 0.2)\r\n        },\r\n        avgRevenuePerContent: 26.07, // Placeholder\r\n        avgRevenuePerUser: 48.67,    // Placeholder\r\n        projectedMonthlyRevenue: 15780.00, // Placeholder\r\n        promotionsCompleted,\r\n        topContent,\r\n        recentActivities,\r\n        // Performance metrics\r\n        performanceMetrics: {\r\n          conversionRate: 3.2,\r\n          bounceRate: 42.8,\r\n          averageSessionDuration: 187, // seconds\r\n          returnVisitorRate: 28.5,\r\n          engagementByPlatform: {\r\n            mobile: 64,\r\n            desktop: 31,\r\n            tablet: 5\r\n          }\r\n        },\r\n        // User demographics\r\n        demographics: {\r\n          ageGroups: {\r\n            '18-24': 15,\r\n            '25-34': 32,\r\n            '35-44': 28,\r\n            '45-54': 18,\r\n            '55+': 7\r\n          },\r\n          geoDistribution: {\r\n            'North America': 42,\r\n            'Europe': 28,\r\n            'Asia': 18,\r\n            'South America': 8,\r\n            'Africa': 3,\r\n            'Oceania': 1\r\n          },\r\n          deviceTypes: {\r\n            'iOS': 38,\r\n            'Android': 41,\r\n            'Windows': 16,\r\n            'Mac': 4,\r\n            'Other': 1\r\n          }\r\n        },\r\n        // Revenue and financial data\r\n        financialMetrics: {\r\n          revenueByMonth: [\r\n            { month: 'Jan', revenue: 8450 },\r\n            { month: 'Feb', revenue: 9120 },\r\n            { month: 'Mar', revenue: 8790 },\r\n            { month: 'Apr', revenue: 9840 },\r\n            { month: 'May', revenue: 10380 },\r\n            { month: 'Jun', revenue: 11200 },\r\n            { month: 'Jul', revenue: 12150 },\r\n            { month: 'Aug', revenue: 12458 }\r\n          ],\r\n          revenueByContentType: {\r\n            'Article': 42,\r\n            'Video': 28,\r\n            'Image': 18,\r\n            'Audio': 12\r\n          },\r\n          transactionTrends: {\r\n            averageOrderValue: 38.72,\r\n            conversionRate: 2.8,\r\n            repeatPurchaseRate: 18.5\r\n          }\r\n        }\r\n      };\r\n      \r\n      console.log('Successfully fetched Firestore analytics data');\r\n      setDashboardData(firestoreAnalyticsData);\r\n      setIsLoading(false);\r\n      setRefreshing(false);\r\n    } catch (err) {\r\n      console.error('Error fetching analytics data from Firestore:', err);\r\n      setError(err.message);\r\n      \r\n      // Fallback to mock data after a short delay\r\n      console.log('Falling back to mock analytics data');\r\n      setTimeout(() => {\r\n        setDashboardData(mockAnalyticsData);\r\n        setIsLoading(false);\r\n        setRefreshing(false);\r\n      }, 1500);\r\n    }\r\n  };\r\n  \r\n  useEffect(() => {\r\n    // If analytics data is provided, use it\r\n    if (analytics) {\r\n      setDashboardData(analytics);\r\n      setIsLoading(false);\r\n    } else {\r\n      // Try to fetch data from Firestore\r\n      fetchFirestoreData();\r\n    }\r\n  }, [analytics]);\r\n\r\n  const StatCard = ({ title, value, subtitle, color = '#1976d2', icon, trend }) => (\r\n    <div style={{\r\n      background: 'white',\r\n      borderRadius: '12px',\r\n      padding: '24px',\r\n      boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n      flex: '1',\r\n      minWidth: '220px',\r\n      margin: '10px',\r\n      position: 'relative',\r\n      overflow: 'hidden',\r\n      transition: 'transform 0.3s ease, box-shadow 0.3s ease',\r\n      cursor: 'pointer',\r\n      border: '1px solid rgba(0,0,0,0.05)'\r\n    }} onMouseOver={(e) => {\r\n      e.currentTarget.style.transform = 'translateY(-5px)';\r\n      e.currentTarget.style.boxShadow = '0 8px 30px rgba(0,0,0,0.12)';\r\n    }} onMouseOut={(e) => {\r\n      e.currentTarget.style.transform = 'translateY(0)';\r\n      e.currentTarget.style.boxShadow = '0 4px 20px rgba(0,0,0,0.08)';\r\n    }}>\r\n      <div style={{ \r\n        position: 'absolute', \r\n        top: '15px', \r\n        right: '15px', \r\n        color: color,\r\n        opacity: 0.2,\r\n        fontSize: '2.5rem' \r\n      }}>\r\n        {icon}\r\n      </div>\r\n      <div style={{ \r\n        width: '40px', \r\n        height: '40px', \r\n        borderRadius: '8px', \r\n        backgroundColor: `${color}15`, \r\n        display: 'flex', \r\n        alignItems: 'center', \r\n        justifyContent: 'center',\r\n        marginBottom: '15px'\r\n      }}>\r\n        <span style={{ color: color, fontSize: '1.2rem' }}>{icon}</span>\r\n      </div>\r\n      <h3 style={{ color: '#333', marginTop: 0, fontSize: '1.1rem', fontWeight: '600' }}>{title}</h3>\r\n      <div style={{ fontSize: '1.8rem', fontWeight: 'bold', marginBottom: '8px', color: '#111' }}>\r\n        {typeof value === 'number' && title.toLowerCase().includes('revenue') \r\n          ? `$${value.toFixed(2)}`\r\n          : value}\r\n      </div>\r\n      {subtitle && <div style={{ fontSize: '0.9rem', color: '#666', display: 'flex', alignItems: 'center' }}>\r\n        {trend && (\r\n          <span style={{ \r\n            color: trend > 0 ? '#2e7d32' : '#d32f2f', \r\n            marginRight: '5px', \r\n            display: 'inline-flex', \r\n            alignItems: 'center' \r\n          }}>\r\n            {trend > 0 ? 'â†‘' : 'â†“'} {Math.abs(trend)}%\r\n          </span>\r\n        )}\r\n        {subtitle}\r\n      </div>}\r\n    </div>\r\n  );\r\n\r\n  const ProgressBar = ({ value, max, color = '#1976d2', label }) => (\r\n    <div style={{ marginBottom: '15px' }}>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '5px' }}>\r\n        <span style={{ fontSize: '0.9rem', color: '#555' }}>{label}</span>\r\n        <span style={{ fontSize: '0.9rem', color: '#555', fontWeight: 'bold' }}>{value}%</span>\r\n      </div>\r\n      <div style={{ height: '8px', backgroundColor: '#f0f0f0', borderRadius: '4px', overflow: 'hidden' }}>\r\n        <div \r\n          style={{ \r\n            height: '100%', \r\n            width: `${(value / max) * 100}%`, \r\n            backgroundColor: color,\r\n            borderRadius: '4px'\r\n          }} \r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const TabButton = ({ name, label, icon }) => (\r\n    <button \r\n      onClick={() => setActiveTab(name)}\r\n      style={{\r\n        backgroundColor: activeTab === name ? '#1976d2' : 'transparent',\r\n        color: activeTab === name ? 'white' : '#555',\r\n        border: 'none',\r\n        padding: '12px 20px',\r\n        borderRadius: '8px',\r\n        fontSize: '0.95rem',\r\n        cursor: 'pointer',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        margin: '0 5px',\r\n        fontWeight: activeTab === name ? '600' : '400',\r\n        transition: 'all 0.2s ease'\r\n      }}\r\n    >\r\n      <span style={{ marginRight: '8px', fontSize: '1.1rem' }}>{icon}</span>\r\n      {label}\r\n    </button>\r\n  );\r\n\r\n  const BarChart = ({ data, title }) => (\r\n    <div style={{ \r\n      backgroundColor: 'white', \r\n      borderRadius: '12px', \r\n      padding: '20px', \r\n      boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n      marginBottom: '24px' \r\n    }}>\r\n      <h3 style={{ marginTop: 0, marginBottom: '20px', color: '#333' }}>{title}</h3>\r\n      <div style={{ display: 'flex', height: '200px', alignItems: 'flex-end' }}>\r\n        {data.map((item, index) => (\r\n          <div key={index} style={{ flex: 1, display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n            <div style={{ \r\n              height: `${(item.revenue / Math.max(...data.map(d => d.revenue))) * 180}px`, \r\n              width: '40px', \r\n              backgroundColor: '#1976d2', \r\n              borderRadius: '6px 6px 0 0',\r\n              transition: 'height 0.5s ease'\r\n            }} />\r\n            <div style={{ marginTop: '8px', fontSize: '0.8rem', color: '#666' }}>{item.month}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const PieChart = ({ data, title, colors }) => (\r\n    <div style={{ \r\n      backgroundColor: 'white', \r\n      borderRadius: '12px', \r\n      padding: '20px', \r\n      boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n      marginBottom: '24px'\r\n    }}>\r\n      <h3 style={{ marginTop: 0, marginBottom: '20px', color: '#333' }}>{title}</h3>\r\n      <div>\r\n        {Object.entries(data).map(([key, value], index) => (\r\n          <div key={index} style={{ marginBottom: '12px' }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '5px' }}>\r\n              <span style={{ display: 'flex', alignItems: 'center' }}>\r\n                <span style={{ \r\n                  display: 'inline-block', \r\n                  width: '12px', \r\n                  height: '12px', \r\n                  backgroundColor: colors[index % colors.length],\r\n                  borderRadius: '2px',\r\n                  marginRight: '8px'\r\n                }}></span>\r\n                {key}\r\n              </span>\r\n              <span style={{ fontWeight: 'bold' }}>{value}%</span>\r\n            </div>\r\n            <div style={{ height: '8px', backgroundColor: '#f0f0f0', borderRadius: '4px', overflow: 'hidden' }}>\r\n              <div \r\n                style={{ \r\n                  height: '100%', \r\n                  width: `${value}%`, \r\n                  backgroundColor: colors[index % colors.length],\r\n                  borderRadius: '4px'\r\n                }} \r\n              />\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const DataTable = ({ data, columns, title }) => (\r\n    <div style={{ \r\n      backgroundColor: 'white', \r\n      borderRadius: '12px', \r\n      padding: '20px', \r\n      boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n      marginBottom: '24px',\r\n      overflowX: 'auto'\r\n    }}>\r\n      <h3 style={{ marginTop: 0, marginBottom: '20px', color: '#333' }}>{title}</h3>\r\n      <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n        <thead>\r\n          <tr>\r\n            {columns.map((column, index) => (\r\n              <th key={index} style={{ \r\n                textAlign: 'left', \r\n                padding: '12px 15px',\r\n                borderBottom: '1px solid #eee',\r\n                color: '#555',\r\n                fontWeight: '600'\r\n              }}>\r\n                {column.header}\r\n              </th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {data.map((row, rowIndex) => (\r\n            <tr key={rowIndex} style={{\r\n              backgroundColor: rowIndex % 2 === 0 ? '#f9f9f9' : 'white'\r\n            }}>\r\n              {columns.map((column, colIndex) => (\r\n                <td key={colIndex} style={{ \r\n                  padding: '12px 15px',\r\n                  borderBottom: '1px solid #eee',\r\n                  color: '#333'\r\n                }}>\r\n                  {column.render ? column.render(row) : row[column.accessor]}\r\n                </td>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n\r\n  const ActivityFeed = ({ activities }) => (\r\n    <div style={{ \r\n      backgroundColor: 'white', \r\n      borderRadius: '12px', \r\n      padding: '20px', \r\n      boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n      marginBottom: '24px'\r\n    }}>\r\n      <h3 style={{ marginTop: 0, marginBottom: '20px', color: '#333' }}>Recent Activity</h3>\r\n      <div style={{ maxHeight: '400px', overflowY: 'auto' }}>\r\n        {activities && activities.length > 0 ? (\r\n          activities.map((activity, index) => (\r\n            <div key={index} style={{\r\n              padding: '12px 0',\r\n              borderBottom: index !== activities.length - 1 ? '1px solid #eee' : 'none',\r\n              display: 'flex',\r\n              alignItems: 'flex-start'\r\n            }}>\r\n              <div style={{\r\n                width: '40px',\r\n                height: '40px',\r\n                borderRadius: '50%',\r\n                backgroundColor: '#e3f2fd',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                marginRight: '15px',\r\n                flexShrink: 0\r\n              }}>\r\n                <span style={{ color: '#1976d2' }}>\r\n                  {activity.type === 'user' ? 'ðŸ‘¤' : \r\n                   activity.type === 'content' ? 'ðŸ“„' : \r\n                   activity.type === 'promotion' ? 'ðŸš€' : 'ðŸ“Š'}\r\n                </span>\r\n              </div>\r\n              <div>\r\n                <div style={{ fontWeight: '500', color: '#333', marginBottom: '3px' }}>\r\n                  {activity.title || 'Action performed'}\r\n                </div>\r\n                <div style={{ fontSize: '0.85rem', color: '#666', marginBottom: '3px' }}>\r\n                  {activity.description || 'No description available'}\r\n                </div>\r\n                <div style={{ fontSize: '0.8rem', color: '#999' }}>\r\n                  {activity.timestamp ? new Date(activity.timestamp.seconds * 1000).toLocaleString() : 'Unknown time'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div style={{ textAlign: 'center', padding: '20px', color: '#666' }}>\r\n            No recent activities to display\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div style={{ marginTop: 24, padding: '24px', textAlign: 'center' }}>\r\n        <h2 style={{ color: '#333' }}>Admin Dashboard</h2>\r\n        <div style={{ \r\n          margin: '24px auto', \r\n          width: '50px', \r\n          height: '50px', \r\n          border: '5px solid rgba(25, 118, 210, 0.2)',\r\n          borderTop: '5px solid #1976d2',\r\n          borderRadius: '50%',\r\n          animation: 'spin 1s linear infinite',\r\n        }}>\r\n          <style>{`\r\n            @keyframes spin {\r\n              0% { transform: rotate(0deg); }\r\n              100% { transform: rotate(360deg); }\r\n            }\r\n          `}</style>\r\n        </div>\r\n        <div>\r\n          <strong>Welcome, {user.name} (Admin)</strong>\r\n        </div>\r\n        <div style={{ marginTop: 16, color: '#666' }}>Loading analytics data...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Define the dashboard content based on active tab\r\n  const renderDashboardContent = () => {\r\n    switch (activeTab) {\r\n      case 'overview':\r\n        return (\r\n          <>\r\n            <div style={{ marginTop: 24 }}>\r\n              <div style={{ display: 'flex', flexWrap: 'wrap', margin: '-10px' }}>\r\n                <StatCard \r\n                  title=\"Total Users\" \r\n                  value={dashboardData.totalUsers}\r\n                  subtitle={`${dashboardData.newUsersToday} new today`}\r\n                  icon=\"ðŸ‘¥\"\r\n                  trend={12}\r\n                />\r\n                <StatCard \r\n                  title=\"Total Content\" \r\n                  value={dashboardData.totalContent}\r\n                  subtitle={`${dashboardData.newContentToday} new today`}\r\n                  color=\"#5e35b1\"\r\n                  icon=\"ðŸ“„\"\r\n                  trend={8}\r\n                />\r\n                <StatCard \r\n                  title=\"Total Revenue\" \r\n                  value={dashboardData.totalRevenue}\r\n                  subtitle={`$${dashboardData.revenueToday} today`}\r\n                  color=\"#2e7d32\"\r\n                  icon=\"ðŸ’°\"\r\n                  trend={15}\r\n                />\r\n                <StatCard \r\n                  title=\"Active Promotions\" \r\n                  value={dashboardData.activePromotions}\r\n                  subtitle={`${dashboardData.scheduledPromotions} scheduled`}\r\n                  color=\"#ed6c02\"\r\n                  icon=\"ðŸš€\"\r\n                  trend={5}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ marginTop: 30, display: 'flex', gap: '20px' }}>\r\n              <div style={{ flex: 2 }}>\r\n                <BarChart \r\n                  data={dashboardData.financialMetrics?.revenueByMonth || []} \r\n                  title=\"Monthly Revenue\" \r\n                />\r\n              </div>\r\n              <div style={{ flex: 1 }}>\r\n                <PieChart \r\n                  data={dashboardData.demographics?.deviceTypes || {}} \r\n                  title=\"Device Distribution\" \r\n                  colors={['#1976d2', '#5e35b1', '#2e7d32', '#ed6c02', '#d32f2f']}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ marginTop: 10, display: 'flex', gap: '20px' }}>\r\n              <div style={{ flex: 1 }}>\r\n                <DataTable \r\n                  title=\"Top Performing Content\"\r\n                  data={dashboardData.topContent || []}\r\n                  columns={[\r\n                    { header: 'Title', accessor: 'title' },\r\n                    { header: 'Type', accessor: 'type' },\r\n                    { header: 'Views', accessor: 'views' },\r\n                    { \r\n                      header: 'Engagement', \r\n                      accessor: 'engagementRate',\r\n                      render: (row) => `${((row.engagementRate || 0) * 100).toFixed(1)}%`\r\n                    }\r\n                  ]}\r\n                />\r\n              </div>\r\n              <div style={{ flex: 1 }}>\r\n                <ActivityFeed activities={dashboardData.recentActivities || []} />\r\n              </div>\r\n            </div>\r\n          </>\r\n        );\r\n      \r\n      case 'users':\r\n        return (\r\n          <>\r\n            <div style={{ marginTop: 24 }}>\r\n              <div style={{ display: 'flex', flexWrap: 'wrap', margin: '-10px' }}>\r\n                <StatCard \r\n                  title=\"Active Users\" \r\n                  value={dashboardData.activeUsers}\r\n                  subtitle={`${dashboardData.activeUsersLastWeek} last week`}\r\n                  color=\"#1976d2\"\r\n                  icon=\"ðŸ‘¤\"\r\n                  trend={5}\r\n                />\r\n                <StatCard \r\n                  title=\"Engagement Rate\" \r\n                  value={`${(dashboardData.engagementRate * 100).toFixed(1)}%`}\r\n                  subtitle={`${dashboardData.engagementChange > 0 ? '+' : ''}${(dashboardData.engagementChange * 100).toFixed(1)}% change`}\r\n                  color=\"#5e35b1\"\r\n                  icon=\"ðŸ“Š\"\r\n                  trend={dashboardData.engagementChange * 100}\r\n                />\r\n                <StatCard \r\n                  title=\"Power Users\" \r\n                  value={dashboardData.userSegmentation.powerUsers}\r\n                  subtitle={`${((dashboardData.userSegmentation.powerUsers / dashboardData.userSegmentation.total) * 100).toFixed(1)}% of total users`}\r\n                  color=\"#2e7d32\"\r\n                  icon=\"â­\"\r\n                  trend={3}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ marginTop: 30, display: 'flex', gap: '20px' }}>\r\n              <div style={{ flex: 1 }}>\r\n                <div style={{ \r\n                  backgroundColor: 'white', \r\n                  borderRadius: '12px', \r\n                  padding: '20px', \r\n                  boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n                  marginBottom: '24px'\r\n                }}>\r\n                  <h3 style={{ marginTop: 0, marginBottom: '20px', color: '#333' }}>User Segmentation</h3>\r\n                  <ProgressBar \r\n                    label=\"Power Users\" \r\n                    value={Math.round((dashboardData.userSegmentation.powerUsers / dashboardData.userSegmentation.total) * 100)}\r\n                    max={100}\r\n                    color=\"#2e7d32\"\r\n                  />\r\n                  <ProgressBar \r\n                    label=\"Regular Users\" \r\n                    value={Math.round((dashboardData.userSegmentation.regularUsers / dashboardData.userSegmentation.total) * 100)}\r\n                    max={100}\r\n                    color=\"#1976d2\"\r\n                  />\r\n                  <ProgressBar \r\n                    label=\"Occasional Users\" \r\n                    value={Math.round((dashboardData.userSegmentation.occasionalUsers / dashboardData.userSegmentation.total) * 100)}\r\n                    max={100}\r\n                    color=\"#ed6c02\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div style={{ flex: 1 }}>\r\n                <PieChart \r\n                  data={dashboardData.demographics?.ageGroups || {}} \r\n                  title=\"Age Distribution\" \r\n                  colors={['#1976d2', '#5e35b1', '#2e7d32', '#ed6c02', '#d32f2f']}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ marginTop: 10, display: 'flex', gap: '20px' }}>\r\n              <div style={{ flex: 1 }}>\r\n                <PieChart \r\n                  data={dashboardData.demographics?.geoDistribution || {}} \r\n                  title=\"Geographic Distribution\" \r\n                  colors={['#1976d2', '#5e35b1', '#2e7d32', '#ed6c02', '#d32f2f', '#9c27b0']}\r\n                />\r\n              </div>\r\n              <div style={{ flex: 1 }}>\r\n                <div style={{ \r\n                  backgroundColor: 'white', \r\n                  borderRadius: '12px', \r\n                  padding: '20px', \r\n                  boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n                  marginBottom: '24px'\r\n                }}>\r\n                  <h3 style={{ marginTop: 0, marginBottom: '20px', color: '#333' }}>Performance Metrics</h3>\r\n                  <div style={{ display: 'flex', flexWrap: 'wrap' }}>\r\n                    <div style={{ flex: '1 0 50%', padding: '10px' }}>\r\n                      <div style={{ fontSize: '0.9rem', color: '#666', marginBottom: '5px' }}>Conversion Rate</div>\r\n                      <div style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#1976d2' }}>\r\n                        {dashboardData.performanceMetrics?.conversionRate}%\r\n                      </div>\r\n                    </div>\r\n                    <div style={{ flex: '1 0 50%', padding: '10px' }}>\r\n                      <div style={{ fontSize: '0.9rem', color: '#666', marginBottom: '5px' }}>Bounce Rate</div>\r\n                      <div style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#ed6c02' }}>\r\n                        {dashboardData.performanceMetrics?.bounceRate}%\r\n                      </div>\r\n                    </div>\r\n                    <div style={{ flex: '1 0 50%', padding: '10px' }}>\r\n                      <div style={{ fontSize: '0.9rem', color: '#666', marginBottom: '5px' }}>Avg. Session Duration</div>\r\n                      <div style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#2e7d32' }}>\r\n                        {Math.floor(dashboardData.performanceMetrics?.averageSessionDuration / 60)}m {dashboardData.performanceMetrics?.averageSessionDuration % 60}s\r\n                      </div>\r\n                    </div>\r\n                    <div style={{ flex: '1 0 50%', padding: '10px' }}>\r\n                      <div style={{ fontSize: '0.9rem', color: '#666', marginBottom: '5px' }}>Return Visitor Rate</div>\r\n                      <div style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#5e35b1' }}>\r\n                        {dashboardData.performanceMetrics?.returnVisitorRate}%\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        );\r\n      \r\n      case 'content':\r\n        return (\r\n          <>\r\n            <div style={{ marginTop: 24 }}>\r\n              <div style={{ display: 'flex', flexWrap: 'wrap', margin: '-10px' }}>\r\n                <StatCard \r\n                  title=\"High Performing\" \r\n                  value={dashboardData.contentPerformance.high}\r\n                  color=\"#2e7d32\"\r\n                  icon=\"ðŸ”\"\r\n                  trend={7}\r\n                />\r\n                <StatCard \r\n                  title=\"Medium Performing\" \r\n                  value={dashboardData.contentPerformance.medium}\r\n                  color=\"#ed6c02\"\r\n                  icon=\"ðŸ“Š\"\r\n                  trend={4}\r\n                />\r\n                <StatCard \r\n                  title=\"Low Performing\" \r\n                  value={dashboardData.contentPerformance.low}\r\n                  color=\"#d32f2f\"\r\n                  icon=\"ðŸ“‰\"\r\n                  trend={-2}\r\n                />\r\n                <StatCard \r\n                  title=\"Avg Revenue/Content\" \r\n                  value={dashboardData.avgRevenuePerContent}\r\n                  color=\"#2e7d32\"\r\n                  icon=\"ðŸ’²\"\r\n                  trend={10}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ marginTop: 30, display: 'flex', gap: '20px' }}>\r\n              <div style={{ flex: 1 }}>\r\n                <PieChart \r\n                  data={dashboardData.financialMetrics?.revenueByContentType || {}} \r\n                  title=\"Revenue by Content Type\" \r\n                  colors={['#1976d2', '#5e35b1', '#2e7d32', '#ed6c02']}\r\n                />\r\n              </div>\r\n              <div style={{ flex: 1 }}>\r\n                <div style={{ \r\n                  backgroundColor: 'white', \r\n                  borderRadius: '12px', \r\n                  padding: '20px', \r\n                  boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n                  marginBottom: '24px'\r\n                }}>\r\n                  <h3 style={{ marginTop: 0, marginBottom: '20px', color: '#333' }}>Content Performance</h3>\r\n                  <ProgressBar \r\n                    label=\"High Performing\" \r\n                    value={Math.round((dashboardData.contentPerformance.high / dashboardData.totalContent) * 100)}\r\n                    max={100}\r\n                    color=\"#2e7d32\"\r\n                  />\r\n                  <ProgressBar \r\n                    label=\"Medium Performing\" \r\n                    value={Math.round((dashboardData.contentPerformance.medium / dashboardData.totalContent) * 100)}\r\n                    max={100}\r\n                    color=\"#ed6c02\"\r\n                  />\r\n                  <ProgressBar \r\n                    label=\"Low Performing\" \r\n                    value={Math.round((dashboardData.contentPerformance.low / dashboardData.totalContent) * 100)}\r\n                    max={100}\r\n                    color=\"#d32f2f\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ marginTop: 10 }}>\r\n              <DataTable \r\n                title=\"Top Performing Content\"\r\n                data={dashboardData.topContent || []}\r\n                columns={[\r\n                  { header: 'Title', accessor: 'title' },\r\n                  { header: 'Type', accessor: 'type' },\r\n                  { header: 'Views', accessor: 'views' },\r\n                  { \r\n                    header: 'Engagement', \r\n                    accessor: 'engagementRate',\r\n                    render: (row) => `${((row.engagementRate || 0) * 100).toFixed(1)}%`\r\n                  },\r\n                  {\r\n                    header: 'Created',\r\n                    accessor: 'createdAt',\r\n                    render: (row) => row.createdAt ? new Date(row.createdAt.seconds * 1000).toLocaleDateString() : 'N/A'\r\n                  },\r\n                  {\r\n                    header: 'Status',\r\n                    accessor: 'status',\r\n                    render: (row) => (\r\n                      <span style={{\r\n                        padding: '4px 8px',\r\n                        borderRadius: '4px',\r\n                        fontSize: '0.8rem',\r\n                        backgroundColor: row.status === 'active' ? '#e8f5e9' : \r\n                                        row.status === 'pending' ? '#fff8e1' : '#ffebee',\r\n                        color: row.status === 'active' ? '#2e7d32' : \r\n                              row.status === 'pending' ? '#ed6c02' : '#d32f2f'\r\n                      }}>\r\n                        {row.status || 'active'}\r\n                      </span>\r\n                    )\r\n                  }\r\n                ]}\r\n              />\r\n            </div>\r\n          </>\r\n        );\r\n      \r\n      case 'revenue':\r\n        return (\r\n          <>\r\n            <div style={{ marginTop: 24 }}>\r\n              <div style={{ display: 'flex', flexWrap: 'wrap', margin: '-10px' }}>\r\n                <StatCard \r\n                  title=\"Avg Revenue/User\" \r\n                  value={dashboardData.avgRevenuePerUser}\r\n                  color=\"#2e7d32\"\r\n                  icon=\"ðŸ’µ\"\r\n                  trend={8}\r\n                />\r\n                <StatCard \r\n                  title=\"Projected Monthly\" \r\n                  value={dashboardData.projectedMonthlyRevenue}\r\n                  subtitle=\"Based on current growth\"\r\n                  color=\"#2e7d32\"\r\n                  icon=\"ðŸ“ˆ\"\r\n                  trend={12}\r\n                />\r\n                <StatCard \r\n                  title=\"Completed Promotions\" \r\n                  value={dashboardData.promotionsCompleted}\r\n                  subtitle={`${((dashboardData.promotionsCompleted / (dashboardData.promotionsCompleted + dashboardData.activePromotions)) * 100).toFixed(1)}% completion rate`}\r\n                  color=\"#1976d2\"\r\n                  icon=\"âœ…\"\r\n                  trend={6}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ marginTop: 30 }}>\r\n              <BarChart \r\n                data={dashboardData.financialMetrics?.revenueByMonth || []} \r\n                title=\"Monthly Revenue\" \r\n              />\r\n            </div>\r\n\r\n            <div style={{ marginTop: 10, display: 'flex', gap: '20px' }}>\r\n              <div style={{ flex: 1 }}>\r\n                <PieChart \r\n                  data={dashboardData.financialMetrics?.revenueByContentType || {}} \r\n                  title=\"Revenue by Content Type\" \r\n                  colors={['#1976d2', '#5e35b1', '#2e7d32', '#ed6c02']}\r\n                />\r\n              </div>\r\n              <div style={{ flex: 1 }}>\r\n                <div style={{ \r\n                  backgroundColor: 'white', \r\n                  borderRadius: '12px', \r\n                  padding: '20px', \r\n                  boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n                  marginBottom: '24px'\r\n                }}>\r\n                  <h3 style={{ marginTop: 0, marginBottom: '20px', color: '#333' }}>Transaction Metrics</h3>\r\n                  <div style={{ display: 'flex', flexWrap: 'wrap' }}>\r\n                    <div style={{ flex: '1 0 50%', padding: '10px' }}>\r\n                      <div style={{ fontSize: '0.9rem', color: '#666', marginBottom: '5px' }}>Avg. Order Value</div>\r\n                      <div style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#1976d2' }}>\r\n                        ${dashboardData.financialMetrics?.transactionTrends?.averageOrderValue}\r\n                      </div>\r\n                    </div>\r\n                    <div style={{ flex: '1 0 50%', padding: '10px' }}>\r\n                      <div style={{ fontSize: '0.9rem', color: '#666', marginBottom: '5px' }}>Conversion Rate</div>\r\n                      <div style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#2e7d32' }}>\r\n                        {dashboardData.financialMetrics?.transactionTrends?.conversionRate}%\r\n                      </div>\r\n                    </div>\r\n                    <div style={{ flex: '1 0 50%', padding: '10px' }}>\r\n                      <div style={{ fontSize: '0.9rem', color: '#666', marginBottom: '5px' }}>Repeat Purchase Rate</div>\r\n                      <div style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#5e35b1' }}>\r\n                        {dashboardData.financialMetrics?.transactionTrends?.repeatPurchaseRate}%\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        );\r\n      \r\n      default:\r\n        return (\r\n          <div>No content available for this tab</div>\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginTop: 24, padding: '0 24px 40px', maxWidth: '1400px', margin: '0 auto' }}>\r\n      <div style={{ \r\n        display: 'flex', \r\n        justifyContent: 'space-between', \r\n        alignItems: 'center',\r\n        marginBottom: '20px',\r\n        backgroundColor: 'white',\r\n        padding: '15px 20px',\r\n        borderRadius: '12px',\r\n        boxShadow: '0 4px 20px rgba(0,0,0,0.08)'\r\n      }}>\r\n        <h2 style={{ margin: 0, color: '#333', fontSize: '1.8rem' }}>Admin Dashboard</h2>\r\n        <div style={{ \r\n          display: 'flex', \r\n          alignItems: 'center', \r\n          background: '#f5f5f5', \r\n          padding: '8px 16px', \r\n          borderRadius: '8px'\r\n        }}>\r\n          <div style={{ \r\n            width: '40px', \r\n            height: '40px', \r\n            borderRadius: '50%', \r\n            backgroundColor: '#1976d2', \r\n            color: 'white',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            fontWeight: 'bold',\r\n            marginRight: '10px'\r\n          }}>\r\n            {user.name.charAt(0).toUpperCase()}\r\n          </div>\r\n          <div>\r\n            <div style={{ fontWeight: '600' }}>{user.name}</div>\r\n            <div style={{ fontSize: '0.8rem', color: '#666' }}>Administrator</div>\r\n          </div>\r\n          \r\n          <button onClick={refreshData} style={{\r\n            marginLeft: '20px',\r\n            backgroundColor: '#1976d2',\r\n            color: 'white',\r\n            border: 'none',\r\n            padding: '8px 16px',\r\n            borderRadius: '4px',\r\n            cursor: 'pointer',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            opacity: refreshing ? 0.7 : 1\r\n          }}>\r\n            <span style={{ marginRight: '5px' }}>â†»</span>\r\n            {refreshing ? 'Refreshing...' : 'Refresh Data'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ \r\n        display: 'flex', \r\n        marginBottom: '25px',\r\n        backgroundColor: 'white',\r\n        padding: '10px',\r\n        borderRadius: '12px',\r\n        boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n        justifyContent: 'center'\r\n      }}>\r\n        <TabButton name=\"overview\" label=\"Overview\" icon=\"ðŸ“Š\" />\r\n        <TabButton name=\"users\" label=\"User Analytics\" icon=\"ðŸ‘¥\" />\r\n        <TabButton name=\"content\" label=\"Content Performance\" icon=\"ðŸ“„\" />\r\n        <TabButton name=\"revenue\" label=\"Revenue & Finance\" icon=\"ðŸ’°\" />\r\n      </div>\r\n\r\n      {renderDashboardContent()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminDashboard;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}