{"ast":null,"code":"/**\r\n * Firebase Error Handler\r\n * \r\n * This utility handles Firebase errors gracefully and provides \r\n * user-friendly error messages for common Firebase issues.\r\n */// Error codes mapping to user-friendly messages\nconst errorMessages={// Auth errors\n'auth/user-not-found':'No user found with this email address.','auth/wrong-password':'Incorrect password. Please try again.','auth/invalid-email':'The email address is not valid.','auth/email-already-in-use':'This email is already registered.','auth/weak-password':'Password should be at least 6 characters.','auth/too-many-requests':'Too many unsuccessful login attempts. Please try again later.','auth/account-exists-with-different-credential':'An account already exists with the same email address but different sign-in credentials.','auth/operation-not-allowed':'This operation is not allowed.','auth/requires-recent-login':'This operation requires recent authentication. Please log in again.','auth/user-disabled':'This user account has been disabled.','auth/invalid-credential':'The credential is invalid.',// Firestore errors\n'permission-denied':'You do not have permission to access this data.','unavailable':'The service is currently unavailable. Please try again later.','not-found':'The requested document was not found.','already-exists':'The document already exists.','resource-exhausted':'Quota exceeded. Please try again later.',// Storage errors\n'storage/unauthorized':'User does not have permission to access the object.','storage/canceled':'User canceled the upload.','storage/unknown':'Unknown error occurred during upload.',// Generic errors\n'network-error':'Network error. Please check your internet connection.','unknown':'An unknown error occurred. Please try again later.'};/**\r\n * Get a user-friendly error message from a Firebase error\r\n * \r\n * @param {Error} error - The Firebase error object\r\n * @returns {string} User-friendly error message\r\n */export const getFirebaseErrorMessage=error=>{console.error('Firebase Error:',error);// Handle various error formats\nconst errorCode=error.code||(error.message&&error.message.includes(':')?error.message.split(':')[0].trim():'unknown');return errorMessages[errorCode]||error.message||'An error occurred. Please try again.';};/**\r\n * Log Firebase errors for debugging\r\n * \r\n * @param {Error} error - The Firebase error object\r\n * @param {string} context - The context where the error occurred\r\n */export const logFirebaseError=function(error){let context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'Firebase Operation';console.error(\"Firebase Error in \".concat(context,\":\"),{code:error.code,message:error.message,stack:error.stack,timestamp:new Date().toISOString()});};/**\r\n * Handle Firebase connection issues\r\n * \r\n * @returns {Promise<boolean>} True if connection was reestablished\r\n */export const handleConnectionIssues=async()=>{try{// Try to reconnect logic would go here\nreturn true;}catch(error){console.error('Failed to reestablish Firebase connection:',error);return false;}};export default{getFirebaseErrorMessage,logFirebaseError,handleConnectionIssues};","map":{"version":3,"names":["errorMessages","getFirebaseErrorMessage","error","console","errorCode","code","message","includes","split","trim","logFirebaseError","context","arguments","length","undefined","concat","stack","timestamp","Date","toISOString","handleConnectionIssues"],"sources":["C:/Users/Tulani.Mtshwelo/Promo/AutoPromote/frontend/src/firebaseErrorHandler.js"],"sourcesContent":["/**\r\n * Firebase Error Handler\r\n * \r\n * This utility handles Firebase errors gracefully and provides \r\n * user-friendly error messages for common Firebase issues.\r\n */\r\n\r\n// Error codes mapping to user-friendly messages\r\nconst errorMessages = {\r\n  // Auth errors\r\n  'auth/user-not-found': 'No user found with this email address.',\r\n  'auth/wrong-password': 'Incorrect password. Please try again.',\r\n  'auth/invalid-email': 'The email address is not valid.',\r\n  'auth/email-already-in-use': 'This email is already registered.',\r\n  'auth/weak-password': 'Password should be at least 6 characters.',\r\n  'auth/too-many-requests': 'Too many unsuccessful login attempts. Please try again later.',\r\n  'auth/account-exists-with-different-credential': 'An account already exists with the same email address but different sign-in credentials.',\r\n  'auth/operation-not-allowed': 'This operation is not allowed.',\r\n  'auth/requires-recent-login': 'This operation requires recent authentication. Please log in again.',\r\n  'auth/user-disabled': 'This user account has been disabled.',\r\n  'auth/invalid-credential': 'The credential is invalid.',\r\n  \r\n  // Firestore errors\r\n  'permission-denied': 'You do not have permission to access this data.',\r\n  'unavailable': 'The service is currently unavailable. Please try again later.',\r\n  'not-found': 'The requested document was not found.',\r\n  'already-exists': 'The document already exists.',\r\n  'resource-exhausted': 'Quota exceeded. Please try again later.',\r\n  \r\n  // Storage errors\r\n  'storage/unauthorized': 'User does not have permission to access the object.',\r\n  'storage/canceled': 'User canceled the upload.',\r\n  'storage/unknown': 'Unknown error occurred during upload.',\r\n  \r\n  // Generic errors\r\n  'network-error': 'Network error. Please check your internet connection.',\r\n  'unknown': 'An unknown error occurred. Please try again later.'\r\n};\r\n\r\n/**\r\n * Get a user-friendly error message from a Firebase error\r\n * \r\n * @param {Error} error - The Firebase error object\r\n * @returns {string} User-friendly error message\r\n */\r\nexport const getFirebaseErrorMessage = (error) => {\r\n  console.error('Firebase Error:', error);\r\n  \r\n  // Handle various error formats\r\n  const errorCode = error.code || (error.message && error.message.includes(':') \r\n    ? error.message.split(':')[0].trim() \r\n    : 'unknown');\r\n  \r\n  return errorMessages[errorCode] || error.message || 'An error occurred. Please try again.';\r\n};\r\n\r\n/**\r\n * Log Firebase errors for debugging\r\n * \r\n * @param {Error} error - The Firebase error object\r\n * @param {string} context - The context where the error occurred\r\n */\r\nexport const logFirebaseError = (error, context = 'Firebase Operation') => {\r\n  console.error(`Firebase Error in ${context}:`, {\r\n    code: error.code,\r\n    message: error.message,\r\n    stack: error.stack,\r\n    timestamp: new Date().toISOString()\r\n  });\r\n};\r\n\r\n/**\r\n * Handle Firebase connection issues\r\n * \r\n * @returns {Promise<boolean>} True if connection was reestablished\r\n */\r\nexport const handleConnectionIssues = async () => {\r\n  try {\r\n    // Try to reconnect logic would go here\r\n    return true;\r\n  } catch (error) {\r\n    console.error('Failed to reestablish Firebase connection:', error);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport default {\r\n  getFirebaseErrorMessage,\r\n  logFirebaseError,\r\n  handleConnectionIssues\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,GAEA;AACA,KAAM,CAAAA,aAAa,CAAG,CACpB;AACA,qBAAqB,CAAE,wCAAwC,CAC/D,qBAAqB,CAAE,uCAAuC,CAC9D,oBAAoB,CAAE,iCAAiC,CACvD,2BAA2B,CAAE,mCAAmC,CAChE,oBAAoB,CAAE,2CAA2C,CACjE,wBAAwB,CAAE,+DAA+D,CACzF,+CAA+C,CAAE,0FAA0F,CAC3I,4BAA4B,CAAE,gCAAgC,CAC9D,4BAA4B,CAAE,qEAAqE,CACnG,oBAAoB,CAAE,sCAAsC,CAC5D,yBAAyB,CAAE,4BAA4B,CAEvD;AACA,mBAAmB,CAAE,iDAAiD,CACtE,aAAa,CAAE,+DAA+D,CAC9E,WAAW,CAAE,uCAAuC,CACpD,gBAAgB,CAAE,8BAA8B,CAChD,oBAAoB,CAAE,yCAAyC,CAE/D;AACA,sBAAsB,CAAE,qDAAqD,CAC7E,kBAAkB,CAAE,2BAA2B,CAC/C,iBAAiB,CAAE,uCAAuC,CAE1D;AACA,eAAe,CAAE,uDAAuD,CACxE,SAAS,CAAE,oDACb,CAAC,CAED;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,MAAM,CAAAC,uBAAuB,CAAIC,KAAK,EAAK,CAChDC,OAAO,CAACD,KAAK,CAAC,iBAAiB,CAAEA,KAAK,CAAC,CAEvC;AACA,KAAM,CAAAE,SAAS,CAAGF,KAAK,CAACG,IAAI,GAAKH,KAAK,CAACI,OAAO,EAAIJ,KAAK,CAACI,OAAO,CAACC,QAAQ,CAAC,GAAG,CAAC,CACzEL,KAAK,CAACI,OAAO,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CAClC,SAAS,CAAC,CAEd,MAAO,CAAAT,aAAa,CAACI,SAAS,CAAC,EAAIF,KAAK,CAACI,OAAO,EAAI,sCAAsC,CAC5F,CAAC,CAED;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,MAAM,CAAAI,gBAAgB,CAAG,QAAAA,CAACR,KAAK,CAAqC,IAAnC,CAAAS,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,oBAAoB,CACpET,OAAO,CAACD,KAAK,sBAAAa,MAAA,CAAsBJ,OAAO,MAAK,CAC7CN,IAAI,CAAEH,KAAK,CAACG,IAAI,CAChBC,OAAO,CAAEJ,KAAK,CAACI,OAAO,CACtBU,KAAK,CAAEd,KAAK,CAACc,KAAK,CAClBC,SAAS,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CACpC,CAAC,CAAC,CACJ,CAAC,CAED;AACA;AACA;AACA;AACA,GACA,MAAO,MAAM,CAAAC,sBAAsB,CAAG,KAAAA,CAAA,GAAY,CAChD,GAAI,CACF;AACA,MAAO,KAAI,CACb,CAAE,MAAOlB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4CAA4C,CAAEA,KAAK,CAAC,CAClE,MAAO,MAAK,CACd,CACF,CAAC,CAED,cAAe,CACbD,uBAAuB,CACvBS,gBAAgB,CAChBU,sBACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}